import{q as j,r as d,v as f,j as e,$ as v}from"./app-CV-uduzR.js";import{A as N}from"./AuthenticatedLayout-5m2CGkcX.js";import"./ApplicationLogo-DtnQNlSQ.js";import"./Dropdown-CBZVXiBJ.js";import"./transition-CRZGpZtR.js";import"./LanguageSwitcher-CB5q9_EP.js";import"./translations-ByLVRw2M.js";function k(){const{props:c}=j(),t=c.auth.user,[o,m]=d.useState(null),[a,i]=d.useState(null),{data:r,setData:l,post:u,processing:h}=f({prenom:t.prenom||"",nom:t.nom||"",email:t.email||"",telephone:t.telephone||""}),x=async()=>{try{const n=await(await fetch("/debug-profile")).json();m(n)}catch(s){console.error("Error fetching debug info:",s)}},p=async()=>{var s;try{const b=await(await fetch("/debug-profile-update",{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":(s=document.querySelector('meta[name="csrf-token"]'))==null?void 0:s.getAttribute("content")},body:JSON.stringify(r)})).json();i(b)}catch(n){console.error("Error testing profile update:",n),i({error:n.message})}},g=()=>{u("/debug-profile-update",{onSuccess:s=>{console.log("Inertia update successful:",s)},onError:s=>{console.log("Inertia update errors:",s)}})};return e.jsxs(N,{header:e.jsx("h2",{className:"text-xl font-semibold leading-tight text-gray-800",children:"Profile Debug"}),children:[e.jsx(v,{title:"Profile Debug"}),e.jsx("div",{className:"py-12",children:e.jsxs("div",{className:"mx-auto max-w-7xl space-y-6 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"bg-white p-6 shadow sm:rounded-lg",children:[e.jsx("h3",{className:"text-lg font-medium mb-4",children:"Current User Information"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("strong",{children:"ID:"})," ",t.id]}),e.jsxs("div",{children:[e.jsx("strong",{children:"UUID:"})," ",t.uuid]}),e.jsxs("div",{children:[e.jsx("strong",{children:"Prenom:"})," ",t.prenom||"null"]}),e.jsxs("div",{children:[e.jsx("strong",{children:"Nom:"})," ",t.nom||"null"]}),e.jsxs("div",{children:[e.jsx("strong",{children:"Email:"})," ",t.email||"null"]}),e.jsxs("div",{children:[e.jsx("strong",{children:"Telephone:"})," ",t.telephone||"null"]}),e.jsxs("div",{children:[e.jsx("strong",{children:"Type:"})," ",t.type_utilisateur]}),e.jsxs("div",{children:[e.jsx("strong",{children:"Verified:"})," ",t.est_verifie?"Yes":"No"]})]})]}),e.jsxs("div",{className:"bg-white p-6 shadow sm:rounded-lg",children:[e.jsx("h3",{className:"text-lg font-medium mb-4",children:"Debug Controls"}),e.jsxs("div",{className:"space-x-4",children:[e.jsx("button",{onClick:x,className:"bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600",children:"Fetch Debug Info"}),e.jsx("button",{onClick:p,className:"bg-green-500 text-white px-4 py-2 rounded hover:bg-green-600",children:"Test Direct Update"}),e.jsx("button",{onClick:g,className:"bg-purple-500 text-white px-4 py-2 rounded hover:bg-purple-600",disabled:h,children:"Test Inertia Update"})]})]}),e.jsxs("div",{className:"bg-white p-6 shadow sm:rounded-lg",children:[e.jsx("h3",{className:"text-lg font-medium mb-4",children:"Test Form Data"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"First Name"}),e.jsx("input",{type:"text",value:r.prenom,onChange:s=>l("prenom",s.target.value),className:"w-full border border-gray-300 rounded px-3 py-2"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Last Name"}),e.jsx("input",{type:"text",value:r.nom,onChange:s=>l("nom",s.target.value),className:"w-full border border-gray-300 rounded px-3 py-2"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Email"}),e.jsx("input",{type:"email",value:r.email,onChange:s=>l("email",s.target.value),className:"w-full border border-gray-300 rounded px-3 py-2"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Phone"}),e.jsx("input",{type:"tel",value:r.telephone,onChange:s=>l("telephone",s.target.value),className:"w-full border border-gray-300 rounded px-3 py-2"})]})]}),e.jsxs("div",{className:"mt-4 text-xs bg-gray-100 p-3 rounded",children:[e.jsx("strong",{children:"Form Data:"})," ",JSON.stringify(r,null,2)]})]}),o&&e.jsxs("div",{className:"bg-white p-6 shadow sm:rounded-lg",children:[e.jsx("h3",{className:"text-lg font-medium mb-4",children:"Debug Information"}),e.jsx("pre",{className:"text-xs bg-gray-100 p-4 rounded overflow-auto",children:JSON.stringify(o,null,2)})]}),a&&e.jsxs("div",{className:"bg-white p-6 shadow sm:rounded-lg",children:[e.jsx("h3",{className:"text-lg font-medium mb-4",children:"Test Result"}),e.jsx("pre",{className:"text-xs bg-gray-100 p-4 rounded overflow-auto",children:JSON.stringify(a,null,2)})]})]})})]})}export{k as default};
