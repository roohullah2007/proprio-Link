import{r as p,v as q,j as e,$ as V,m as Z}from"./app-iFD7Weej.js";import{A as J}from"./AuthenticatedLayout-DWhC2xWj.js";import{u as O}from"./translations-rX8tNeDX.js";import{I as Q}from"./lucide-react-C-NpMfJS.js";import"./ApplicationLogo-BMRKG7mZ.js";import"./Dropdown-CjFkiSaH.js";import"./transition-F1nsk1y3.js";import"./LanguageSwitcher-CvGVWDg5.js";function ie({auth:Y,property:n}){const{__:s}=O(),[d,N]=p.useState(1),[X,y]=p.useState([]),[b,C]=p.useState([]),[g,f]=p.useState(!1),[u,_]=p.useState(n.images||[]),{data:a,setData:i,processing:h,errors:c,progress:v}=q({adresse_complete:n.adresse_complete||"",pays:n.pays||"France",ville:n.ville||"",prix:n.prix||"",superficie_m2:n.superficie_m2||"",type_propriete:n.type_propriete||"",description:n.description||"",nombre_pieces:n.nombre_pieces||"",nombre_chambres:n.nombre_chambres||"",nombre_salles_bain:n.nombre_salles_bain||"",etage:n.etage||"",annee_construction:n.annee_construction||"",etat_propriete:n.etat_propriete||"",type_chauffage:n.type_chauffage||"",amenities:n.amenities||[],meuble:n.meuble||!1,charges_mensuelles:n.charges_mensuelles||"",informations_complementaires:n.informations_complementaires||"",contacts_souhaites:n.contacts_souhaites||5,images:[],remove_images:[]}),E=[{value:"APPARTEMENT",label:s("Appartement")},{value:"MAISON",label:s("Maison")},{value:"TERRAIN",label:s("Terrain")},{value:"COMMERCIAL",label:s("Local commercial")},{value:"BUREAU",label:s("Bureau")},{value:"AUTRES",label:s("Autres")}],A=[{value:"NEUF",label:s("Neuf")},{value:"EXCELLENT",label:s("Excellent état")},{value:"BON",label:s("Bon état")},{value:"A_RENOVER",label:s("À rénover")},{value:"A_RESTAURER",label:s("À restaurer")}],I=[{value:"GAZ",label:s("Gaz")},{value:"ELECTRIQUE",label:s("Électrique")},{value:"FIOUL",label:s("Fioul")},{value:"POMPE_CHALEUR",label:s("Pompe à chaleur")},{value:"BOIS",label:s("Bois/Biomasse")},{value:"COLLECTIF",label:s("Chauffage collectif")},{value:"AUTRE",label:s("Autre")}],P=[{category:s("Extérieur et Parking"),items:[{value:"parking",label:s("Parking"),icon:"Car"},{value:"garage",label:s("Garage"),icon:"Home"},{value:"jardin",label:s("Garden"),icon:"Trees"},{value:"terrasse",label:s("Terrace"),icon:"Mountain"},{value:"balcon",label:s("Balcony"),icon:"Building"},{value:"piscine",label:s("Swimming pool"),icon:"Waves"},{value:"cave",label:s("Cave"),icon:"Archive"},{value:"grenier",label:s("Grenier/Combles"),icon:"Package"}]},{category:s("Sécurité et Confort"),items:[{value:"ascenseur",label:s("Ascenseur"),icon:"ArrowUpDown"},{value:"digicode",label:s("Digicode"),icon:"KeyRound"},{value:"interphone",label:s("Interphone"),icon:"Phone"},{value:"gardien",label:s("Gardien/Concierge"),icon:"User"},{value:"alarme",label:s("Système d'alarme"),icon:"Shield"},{value:"climatisation",label:s("Climatisation"),icon:"Snowflake"},{value:"cheminee",label:s("Cheminée"),icon:"Flame"}]},{category:s("Équipements"),items:[{value:"cuisine_equipee",label:s("Cuisine équipée"),icon:"ChefHat"},{value:"cuisine_amenagee",label:s("Cuisine aménagée"),icon:"Utensils"},{value:"double_vitrage",label:s("Double vitrage"),icon:"Home"},{value:"volets_electriques",label:s("Volets électriques"),icon:"ToggleLeft"},{value:"placards",label:s("Placards intégrés"),icon:"Package2"}]},{category:s("Accessibilité et Services"),items:[{value:"acces_handicape",label:s("Accès handicapé"),icon:"Accessibility"},{value:"fibre_optique",label:s("Fibre optique"),icon:"Wifi"},{value:"proche_transports",label:s("Proche transports"),icon:"Bus"},{value:"proche_commerces",label:s("Proche commerces"),icon:"ShoppingBag"},{value:"proche_ecoles",label:s("Proche écoles"),icon:"GraduationCap"}]}],S=[{value:"France",label:s("France")},{value:"Belgique",label:s("Belgique")},{value:"Suisse",label:s("Suisse")},{value:"Luxembourg",label:s("Luxembourg")},{value:"Canada",label:s("Canada")},{value:"Maroc",label:s("Maroc")},{value:"Tunisie",label:s("Tunisie")},{value:"Algérie",label:s("Algérie")}],k=()=>{j(d)&&d<6&&N(d+1)},R=()=>{d>1&&N(d-1)},j=t=>{switch(t){case 1:return a.adresse_complete&&a.pays&&a.ville;case 2:return a.type_propriete&&a.prix&&a.superficie_m2;case 3:return!0;case 4:return a.contacts_souhaites;case 5:return!0;case 6:return!0;default:return!1}},M=t=>{t.preventDefault(),console.log("Submit button clicked, showing confirmation modal..."),console.log("Current form data:",a),f(!0)},F=()=>{console.log("Confirm Update button clicked!"),console.log("Processing state:",h),console.log("Data to submit:",a),console.log("Meuble field value from data:",a.meuble,"Type:",typeof a.meuble);const t=new FormData;Object.keys(a).forEach(r=>{if(console.log(`Processing field: ${r}, value:`,a[r],"type:",typeof a[r]),r==="images")a.images&&a.images.length>0&&(a.images.forEach((o,m)=>{t.append(`images[${m}]`,o)}),console.log(`Added ${a.images.length} new images`));else if(r==="remove_images")a.remove_images&&a.remove_images.length>0&&(a.remove_images.forEach((o,m)=>{t.append(`remove_images[${m}]`,o)}),console.log(`Marked ${a.remove_images.length} images for removal`));else if(r==="amenities")a.amenities&&a.amenities.length>0&&a.amenities.forEach((o,m)=>{t.append(`amenities[${m}]`,o)});else if(r==="meuble"){const o=a[r]?"1":"0";t.append(r,o),console.log(`Meuble field: ${a[r]} (${typeof a[r]}) -> ${o}`)}else a[r]!==null&&a[r]!==void 0&&a[r]!==""&&(t.append(r,a[r]),console.log(`Added field ${r}:`,a[r]))}),t.has("meuble")||(t.append("meuble","0"),console.log("Meuble field was missing, added default value: 0")),t.append("_method","PUT"),t.delete("meuble");const l=a.meuble===!0||a.meuble==="true"||a.meuble===1||a.meuble==="1"?"1":"0";t.append("meuble",l),console.log(`FORCED Meuble value: ${l} (from original: ${a.meuble})`),console.log("Making request to:",route("properties.update",n.id)),console.log("FormData prepared, starting request..."),console.log("All FormData entries:");for(let[r,o]of t.entries())console.log(`  ${r}: ${o}`);Z.post(route("properties.update",n.id),t,{forceFormData:!0,onStart:()=>{console.log("Request started...")},onSuccess:r=>{console.log("Property updated successfully, redirecting..."),console.log("Success response:",r)},onError:r=>{console.log("Update errors:",r),console.error("Full error object:",r),f(!1),r.message?alert("Error: "+r.message):console.log("Validation errors detected")},onFinish:()=>{console.log("Update request finished")}})},z=t=>{const l=Array.from(t.target.files);y(r=>[...r,...l]),l.forEach(r=>{const o=new FileReader;o.onload=m=>{C(x=>[...x,{file:r,url:m.target.result}])},o.readAsDataURL(r)}),i("images",[...a.images,...l])},w=(t,l=!1)=>{if(l){const r=u[t];_(o=>o.filter((m,x)=>x!==t)),i("remove_images",[...a.remove_images,r.id])}else y(r=>r.filter((o,m)=>m!==t)),C(r=>r.filter((o,m)=>m!==t)),i("images",a.images.filter((r,o)=>o!==t))},B=t=>{const l=Array.isArray(a.amenities)?a.amenities:[];l.includes(t)?i("amenities",l.filter(o=>o!==t)):i("amenities",[...l,t])},U=()=>e.jsx("div",{className:"flex items-center justify-center space-x-8 mb-8",children:[1,2,3,4,5,6].map(t=>e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:`flex items-center justify-center w-10 h-10 rounded-full border-2 transition-colors ${t===d||t<d?"bg-[#065033] border-[#065033] text-white":"bg-white border-gray-300 text-gray-500"}`,children:t<d?e.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})}):e.jsx("span",{className:"text-sm font-medium",children:t})}),e.jsx("div",{className:`ml-3 ${t===d?"text-[#065033]":"text-gray-500"}`,children:e.jsxs("div",{className:"text-sm font-medium",children:[t===1&&s("Localisation"),t===2&&s("Informations"),t===3&&s("Détails"),t===4&&s("Contact"),t===5&&s("Photos"),t===6&&s("Review")]})}),t<6&&e.jsx("div",{className:`w-16 h-0.5 ml-3 ${t<d?"bg-[#065033]":"bg-gray-300"}`})]},t))}),L=()=>e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{children:e.jsx("h3",{className:"text-lg font-semibold text-[#000] font-inter mb-4",children:s("Où se trouve votre propriété ?")})}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-[#000] font-inter mb-2",children:[s("Adresse complète")," *"]}),e.jsx("textarea",{value:a.adresse_complete,onChange:t=>i("adresse_complete",t.target.value),rows:3,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#065033] focus:border-transparent",placeholder:"123 Rue de la Paix, 75001 Paris"}),c.adresse_complete&&e.jsx("p",{className:"text-sm text-red-600 font-inter mt-1",children:c.adresse_complete})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-[#000] font-inter mb-2",children:[s("Pays")," *"]}),e.jsx("select",{value:a.pays,onChange:t=>i("pays",t.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#065033] focus:border-transparent",children:S.map(t=>e.jsx("option",{value:t.value,children:t.label},t.value))}),c.pays&&e.jsx("p",{className:"text-sm text-red-600 font-inter mt-1",children:c.pays})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-[#000] font-inter mb-2",children:[s("Ville")," *"]}),e.jsx("input",{type:"text",value:a.ville,onChange:t=>i("ville",t.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#065033] focus:border-transparent",placeholder:"Paris"}),c.ville&&e.jsx("p",{className:"text-sm text-red-600 font-inter mt-1",children:c.ville})]})]})]}),D=()=>e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{children:e.jsx("h3",{className:"text-lg font-semibold text-[#000] font-inter mb-4",children:s("Informations principales")})}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-[#000] font-inter mb-2",children:[s("Type de propriété")," *"]}),e.jsxs("select",{value:a.type_propriete,onChange:t=>i("type_propriete",t.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#065033] focus:border-transparent",children:[e.jsx("option",{value:"",children:s("Sélectionnez un type")}),E.map(t=>e.jsx("option",{value:t.value,children:t.label},t.value))]}),c.type_propriete&&e.jsx("p",{className:"text-sm text-red-600 font-inter mt-1",children:c.type_propriete})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-[#000] font-inter mb-2",children:[s("Prix de vente (€)")," *"]}),e.jsx("input",{type:"number",value:a.prix,onChange:t=>i("prix",t.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#065033] focus:border-transparent",placeholder:"250000"}),c.prix&&e.jsx("p",{className:"text-sm text-red-600 font-inter mt-1",children:c.prix})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-[#000] font-inter mb-2",children:[s("Superficie (m²)")," *"]}),e.jsx("input",{type:"number",value:a.superficie_m2,onChange:t=>i("superficie_m2",t.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#065033] focus:border-transparent",placeholder:"75"}),c.superficie_m2&&e.jsx("p",{className:"text-sm text-red-600 font-inter mt-1",children:c.superficie_m2})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-[#000] font-inter mb-2",children:s("Description de la propriété")}),e.jsx("textarea",{value:a.description,onChange:t=>i("description",t.target.value),rows:4,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#065033] focus:border-transparent",placeholder:s("Décrivez votre propriété...")}),c.description&&e.jsx("p",{className:"text-sm text-red-600 font-inter mt-1",children:c.description})]})]}),T=()=>e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{children:e.jsx("h3",{className:"text-lg font-semibold text-[#000] font-inter mb-4",children:s("Détails de la propriété")})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-[#000] font-inter mb-2",children:s("Nombre de pièces")}),e.jsx("input",{type:"number",value:a.nombre_pieces,onChange:t=>i("nombre_pieces",t.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#065033] focus:border-transparent"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-[#000] font-inter mb-2",children:s("Nombre de chambres")}),e.jsx("input",{type:"number",value:a.nombre_chambres,onChange:t=>i("nombre_chambres",t.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#065033] focus:border-transparent"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-[#000] font-inter mb-2",children:s("Nombre de salles de bain")}),e.jsx("input",{type:"number",value:a.nombre_salles_bain,onChange:t=>i("nombre_salles_bain",t.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#065033] focus:border-transparent"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-[#000] font-inter mb-2",children:s("Étage")}),e.jsx("input",{type:"number",value:a.etage,onChange:t=>i("etage",t.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#065033] focus:border-transparent"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-[#000] font-inter mb-2",children:s("Année de construction")}),e.jsx("input",{type:"number",value:a.annee_construction,onChange:t=>i("annee_construction",t.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#065033] focus:border-transparent"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-[#000] font-inter mb-2",children:s("Charges mensuelles (€)")}),e.jsx("input",{type:"number",value:a.charges_mensuelles,onChange:t=>i("charges_mensuelles",t.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#065033] focus:border-transparent"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-[#000] font-inter mb-2",children:s("État de la propriété")}),e.jsxs("select",{value:a.etat_propriete,onChange:t=>i("etat_propriete",t.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#065033] focus:border-transparent",children:[e.jsx("option",{value:"",children:s("Sélectionnez un état")}),A.map(t=>e.jsx("option",{value:t.value,children:t.label},t.value))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-[#000] font-inter mb-2",children:s("Type de chauffage")}),e.jsxs("select",{value:a.type_chauffage,onChange:t=>i("type_chauffage",t.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#065033] focus:border-transparent",children:[e.jsx("option",{value:"",children:s("Sélectionnez un type")}),I.map(t=>e.jsx("option",{value:t.value,children:t.label},t.value))]})]})]}),e.jsx("div",{children:e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",checked:a.meuble,onChange:t=>i("meuble",t.target.checked),className:"rounded border-gray-300 text-[#065033] focus:ring-[#065033]"}),e.jsx("span",{className:"ml-2 text-sm text-[#000] font-inter",children:s("Meublé")})]})}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-[#000] font-inter mb-2",children:s("Informations complémentaires")}),e.jsx("textarea",{value:a.informations_complementaires,onChange:t=>i("informations_complementaires",t.target.value),rows:3,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#065033] focus:border-transparent",placeholder:s("Informations supplémentaires...")})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-lg font-semibold text-[#000] font-inter mb-4",children:s("Équipements et commodités")}),e.jsx("p",{className:"text-sm text-gray-600 font-inter mb-4",children:s("Sélectionnez les équipements disponibles")}),P.map((t,l)=>e.jsxs("div",{className:"mb-6",children:[e.jsx("h5",{className:"font-medium text-[#000] font-inter mb-3",children:t.category}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-3",children:t.items.map((r,o)=>{const m=Q[r.icon],x=Array.isArray(a.amenities)&&a.amenities.includes(r.value);return e.jsxs("button",{type:"button",onClick:()=>B(r.value),className:`flex items-center p-3 border rounded-lg transition-colors ${x?"border-[#065033] bg-[#065033] text-white":"border-gray-300 bg-white text-gray-700 hover:border-[#065033]"}`,children:[m&&e.jsx(m,{className:"w-4 h-4 mr-2"}),e.jsx("span",{className:"text-sm font-inter",children:r.label})]},o)})})]},l))]})]}),$=()=>e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-[#000] font-inter mb-4",children:s("Combien de contacts souhaitez-vous ?")}),e.jsx("p",{className:"text-gray-600 font-inter mb-6",children:s("Plus vous choisissez de contacts, plus vous avez de chances de vendre rapidement")})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-[#000] font-inter mb-2",children:s("Nombre de contacts souhaités")}),e.jsx("select",{value:a.contacts_souhaites,onChange:t=>i("contacts_souhaites",parseInt(t.target.value)),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#065033] focus:border-transparent",children:[1,2,3,4,5,10,15,20].map(t=>e.jsxs("option",{value:t,children:[t," ",s(t===1?"contact":"contacts")]},t))}),c.contacts_souhaites&&e.jsx("p",{className:"text-sm text-red-600 font-inter mt-1",children:c.contacts_souhaites})]})]}),H=()=>e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-[#000] font-inter mb-4",children:s("Ajoutez des photos de votre propriété")}),e.jsx("p",{className:"text-gray-600 font-inter mb-6",children:s("Cliquez ou glissez-déposez jusqu'à 10 images")})]}),u.length>0&&e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-[#000] font-inter mb-3",children:s("Images existantes")}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4 mb-6",children:u.map((t,l)=>e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:`/storage/${t.chemin_fichier}`,alt:`Property ${l+1}`,className:"w-full h-32 object-cover rounded-lg border",onError:r=>{r.target.dataset.fallbackAttempted?(r.target.src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzIwIiBoZWlnaHQ9IjIwMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSIjZjVmNWY1IiBzdHJva2U9IiNkZGQiLz48dGV4dCB4PSI1MCUiIHk9IjUwJSIgZm9udC1mYW1pbHk9IkFyaWFsLCBzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0cHgiIGZpbGw9IiM5OTkiIHRleHQtYW5jaG9yPSJtaWRkbGUiIGR5PSIuM2VtIj5JbWFnZSBOb3QgRm91bmQ8L3RleHQ+PC9zdmc+",r.target.style.backgroundColor="#f5f5f5",console.log("Image not found:",t.chemin_fichier)):(r.target.dataset.fallbackAttempted="true",r.target.src=`/images/${t.chemin_fichier}`)}}),e.jsx("button",{type:"button",onClick:()=>w(l,!0),className:"absolute top-2 right-2 bg-red-500 text-white rounded-full w-6 h-6 flex items-center justify-center text-xs hover:bg-red-600",children:"×"}),l===0&&e.jsx("div",{className:"absolute bottom-2 left-2 bg-[#065033] text-white text-xs px-2 py-1 rounded font-inter",children:s("Photo principale")})]},l))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-[#000] font-inter mb-2",children:s("Nouvelles images")}),e.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-6 text-center hover:border-[#065033] transition-colors",children:[e.jsx("input",{type:"file",multiple:!0,accept:"image/*",onChange:z,className:"hidden",id:"image-upload"}),e.jsx("label",{htmlFor:"image-upload",className:"cursor-pointer",children:e.jsxs("div",{className:"text-gray-500 font-inter",children:[e.jsx("svg",{className:"mx-auto h-12 w-12 mb-4",stroke:"currentColor",fill:"none",viewBox:"0 0 48 48",children:e.jsx("path",{d:"M28 8H12a4 4 0 00-4 4v20m32-12v8m0 0v8a4 4 0 01-4 4H12a4 4 0 01-4-4v-4m32-4l-3.172-3.172a4 4 0 00-5.656 0L28 28M8 32l9.172-9.172a4 4 0 015.656 0L28 28m0 0l4 4m4-24h8m-4-4v8m-12 4h.02",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"})}),e.jsx("p",{className:"text-sm",children:s("Cliquez pour sélectionner des images")}),e.jsx("p",{className:"text-xs text-gray-400 mt-1",children:s("Formats acceptés: JPG, PNG, WebP (max 5 MB par image)")})]})})]})]}),b.length>0&&e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-[#000] font-inter mb-3",children:s("Nouvelles images sélectionnées")}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:b.map((t,l)=>e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:t.url,alt:`Preview ${l+1}`,className:"w-full h-32 object-cover rounded-lg border"}),e.jsx("button",{type:"button",onClick:()=>w(l),className:"absolute top-2 right-2 bg-red-500 text-white rounded-full w-6 h-6 flex items-center justify-center text-xs hover:bg-red-600",children:"×"}),l===0&&u.length===0&&e.jsx("div",{className:"absolute bottom-2 left-2 bg-[#065033] text-white text-xs px-2 py-1 rounded font-inter",children:s("Photo principale")})]},l))})]}),c.images&&e.jsx("p",{className:"text-sm text-red-600 font-inter",children:c.images}),e.jsxs("div",{className:"bg-[#FEF3CD] border border-[#FDE68A] rounded-lg p-4",children:[e.jsx("h4",{className:"font-semibold text-[#92400E] font-inter mb-2",children:s("Conseils pour de bonnes photos")}),e.jsxs("ul",{className:"text-sm text-[#92400E] font-inter space-y-1",children:[e.jsxs("li",{children:["• ",s("Prenez des photos avec une bonne luminosité naturelle")]}),e.jsxs("li",{children:["• ",s("Montrez les principales pièces et caractéristiques")]}),e.jsxs("li",{children:["• ",s("Évitez les photos floues ou sombres")]}),e.jsxs("li",{children:["• ",s("La première photo sera celle mise en avant")]}),e.jsxs("li",{children:["• ",s("Pensez à photographier les équipements et commodités mentionnés")]})]})]})]}),W=()=>e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-[#000] font-inter mb-4",children:s("Review Your Property Details")}),e.jsx("p",{className:"text-gray-600 font-inter mb-6",children:s("Please review all information before updating your property")})]}),e.jsxs("div",{className:"bg-[#F5F9FA] border border-[#EAEAEA] rounded-lg p-6",children:[e.jsx("h4",{className:"text-lg font-semibold text-[#000] font-inter mb-4",children:s("Property Summary")}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("h5",{className:"font-medium text-[#000] font-inter mb-3",children:s("Basic Information")}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsxs("span",{className:"text-[#6C6C6C] font-inter",children:[s("Type"),":"]}),e.jsx("span",{className:"font-medium text-[#000] font-inter",children:a.type_propriete})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsxs("span",{className:"text-[#6C6C6C] font-inter",children:[s("Price"),":"]}),e.jsx("span",{className:"font-medium text-[#000] font-inter",children:new Intl.NumberFormat("fr-FR",{style:"currency",currency:"EUR"}).format(a.prix)})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsxs("span",{className:"text-[#6C6C6C] font-inter",children:[s("Surface Area"),":"]}),e.jsxs("span",{className:"font-medium text-[#000] font-inter",children:[a.superficie_m2," m²"]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsxs("span",{className:"text-[#6C6C6C] font-inter",children:[s("Location"),":"]}),e.jsxs("span",{className:"font-medium text-[#000] font-inter",children:[a.ville,", ",a.pays]})]})]})]}),e.jsxs("div",{children:[e.jsx("h5",{className:"font-medium text-[#000] font-inter mb-3",children:s("Property Details")}),e.jsxs("div",{className:"space-y-2",children:[a.nombre_pieces&&e.jsxs("div",{className:"flex justify-between",children:[e.jsxs("span",{className:"text-[#6C6C6C] font-inter",children:[s("Rooms"),":"]}),e.jsx("span",{className:"font-medium text-[#000] font-inter",children:a.nombre_pieces})]}),a.nombre_chambres&&e.jsxs("div",{className:"flex justify-between",children:[e.jsxs("span",{className:"text-[#6C6C6C] font-inter",children:[s("Bedrooms"),":"]}),e.jsx("span",{className:"font-medium text-[#000] font-inter",children:a.nombre_chambres})]}),a.nombre_salles_bain&&e.jsxs("div",{className:"flex justify-between",children:[e.jsxs("span",{className:"text-[#6C6C6C] font-inter",children:[s("Bathrooms"),":"]}),e.jsx("span",{className:"font-medium text-[#000] font-inter",children:a.nombre_salles_bain})]}),a.etage&&e.jsxs("div",{className:"flex justify-between",children:[e.jsxs("span",{className:"text-[#6C6C6C] font-inter",children:[s("Floor"),":"]}),e.jsx("span",{className:"font-medium text-[#000] font-inter",children:a.etage})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsxs("span",{className:"text-[#6C6C6C] font-inter",children:[s("Contacts Desired"),":"]}),e.jsx("span",{className:"font-medium text-[#000] font-inter",children:a.contacts_souhaites})]})]})]})]}),a.description&&e.jsxs("div",{className:"mt-6 pt-6 border-t border-[#EAEAEA]",children:[e.jsx("h5",{className:"font-medium text-[#000] font-inter mb-3",children:s("Description")}),e.jsx("p",{className:"text-[#6C6C6C] font-inter",children:a.description})]}),a.amenities&&a.amenities.length>0&&e.jsxs("div",{className:"mt-6 pt-6 border-t border-[#EAEAEA]",children:[e.jsx("h5",{className:"font-medium text-[#000] font-inter mb-3",children:s("Amenities")}),e.jsx("div",{className:"flex flex-wrap gap-2",children:a.amenities.map((t,l)=>e.jsx("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm bg-[#065033] text-white font-inter",children:t},l))})]}),(u.length>0||b.length>0)&&e.jsxs("div",{className:"mt-6 pt-6 border-t border-[#EAEAEA]",children:[e.jsx("h5",{className:"font-medium text-[#000] font-inter mb-3",children:s("Images")}),e.jsxs("div",{className:"grid grid-cols-4 md:grid-cols-6 lg:grid-cols-8 gap-2",children:[u.map((t,l)=>e.jsx("img",{src:`/storage/${t.chemin_fichier}`,alt:`Property ${l+1}`,className:"w-full h-16 object-cover rounded border",onError:r=>{r.target.dataset.fallbackAttempted?(r.target.src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzIwIiBoZWlnaHQ9IjIwMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSIjZjVmNWY1IiBzdHJva2U9IiNkZGQiLz48dGV4dCB4PSI1MCUiIHk9IjUwJSIgZm9udC1mYW1pbHk9IkFyaWFsLCBzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0cHgiIGZpbGw9IiM5OTkiIHRleHQtYW5jaG9yPSJtaWRkbGUiIGR5PSIuM2VtIj5JbWFnZSBOb3QgRm91bmQ8L3RleHQ+PC9zdmc+",r.target.style.backgroundColor="#f5f5f5"):(r.target.dataset.fallbackAttempted="true",r.target.src=`/images/${t.chemin_fichier}`)}},`existing-${l}`)),b.map((t,l)=>e.jsx("img",{src:t.url,alt:`New ${l+1}`,className:"w-full h-16 object-cover rounded border border-green-300"},`new-${l}`))]})]})]}),g&&e.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-6",children:e.jsxs("div",{className:"flex items-start",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("svg",{className:"h-6 w-6 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8.228 9c.549-1.165 2.03-2 3.772-2 2.21 0 4 1.343 4 3 0 1.4-1.278 2.575-3.006 2.907-.542.104-.994.54-.994 1.093m0 3h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e.jsxs("div",{className:"ml-3 flex-1",children:[e.jsx("h4",{className:"font-semibold text-blue-900 font-inter mb-2",children:s("Confirm Property Update")}),e.jsx("p",{className:"text-blue-800 font-inter text-sm mb-4",children:s("Are you sure you want to update this property with the information shown above? This action will save all your changes.")}),e.jsxs("div",{className:"flex space-x-3",children:[e.jsx("button",{type:"button",onClick:F,disabled:h,className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg font-medium font-inter transition-colors disabled:opacity-50",children:h?e.jsxs("div",{className:"flex items-center",children:[e.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),s("Updating...")]}):s("Yes, Update Property")}),e.jsx("button",{type:"button",onClick:()=>f(!1),className:"px-4 py-2 bg-gray-200 hover:bg-gray-300 text-gray-800 rounded-lg font-medium font-inter transition-colors",children:s("Cancel")})]})]})]})}),!g&&e.jsx("div",{className:"bg-[#FEF3CD] border border-[#FDE68A] rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("svg",{className:"h-5 w-5 text-[#92400E]",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})})}),e.jsxs("div",{className:"ml-3",children:[e.jsx("h4",{className:"font-semibold text-[#92400E] font-inter",children:s("Review Before Updating")}),e.jsx("p",{className:"text-[#92400E] font-inter text-sm mt-1",children:s('Please review all the information above. Click "Update Property" to proceed to the confirmation step, where you can finalize your property update.')})]})]})})]}),G=()=>{switch(d){case 1:return L();case 2:return D();case 3:return T();case 4:return $();case 5:return H();case 6:return W();default:return null}};return e.jsxs(J,{usePillNavigation:!1,header:e.jsx("div",{className:"flex justify-between items-center px-0 gap-[9px] w-full h-[31px]",children:e.jsx("div",{className:"flex-none order-0 flex-grow-0",children:e.jsx("h1",{className:"font-inter font-medium text-[14px] leading-[19px] flex items-center text-[#000] capitalize",children:s("Edit Property")})})}),children:[e.jsx(V,{title:s("Modifier la propriété")+" - Propio"}),e.jsx("div",{className:"py-8",children:e.jsx("div",{className:"mx-auto max-w-[1400px] px-8",children:e.jsxs("div",{className:"bg-white border border-[#EAEAEA] rounded-lg p-8",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h2",{className:"text-2xl font-semibold text-black font-inter",children:s("Modifier la propriété")}),e.jsx("p",{className:"mt-2 text-[#6C6C6C] font-inter",children:s("Modifiez les informations de votre propriété")}),n.statut&&e.jsxs("div",{className:`mt-3 inline-flex items-center px-3 py-1 rounded-full text-sm font-medium font-inter ${n.statut==="PUBLIE"?"bg-[#CEE8DE] text-[#065033]":n.statut==="EN_ATTENTE"?"bg-[#FEF3CD] text-[#92400E]":n.statut==="REJETE"?"bg-red-100 text-red-800":"bg-gray-100 text-gray-800"}`,children:[n.statut==="PUBLIE"&&s("Publié"),n.statut==="EN_ATTENTE"&&s("En attente"),n.statut==="REJETE"&&s("Rejeté"),n.statut==="VENDU"&&s("Vendu")]})]}),U(),e.jsxs("form",{onSubmit:M,className:"space-y-6",children:[G(),e.jsxs("div",{className:"flex justify-between pt-6 border-t border-[#EAEAEA]",children:[e.jsx("button",{type:"button",onClick:R,className:`px-6 py-2 border border-[#EAEAEA] rounded-lg text-sm font-medium font-inter transition-colors ${d===1?"text-[#6C6C6C] cursor-not-allowed bg-[#F5F9FA]":"text-[#6C6C6C] hover:bg-[#F5F9FA] hover:border-[#CEE8DE]"}`,disabled:d===1,children:s("Précédent")}),d<6?e.jsx("button",{type:"button",onClick:k,className:`px-6 py-2 rounded-lg text-sm font-medium font-inter transition-colors ${j(d)?"bg-[#065033] text-white hover:bg-[#054028] focus:ring-2 focus:ring-[#065033] focus:ring-offset-2":"bg-[#EAEAEA] text-[#6C6C6C] cursor-not-allowed"}`,disabled:!j(d),children:s(d===5?"Review Changes":"Suivant")}):!g&&e.jsx("button",{type:"submit",className:"px-8 py-2 bg-[#065033] text-white rounded-lg text-sm font-medium font-inter hover:bg-[#054028] focus:ring-2 focus:ring-[#065033] focus:ring-offset-2 transition-colors",children:s("Update Property")})]}),v&&e.jsxs("div",{className:"w-full bg-[#EAEAEA] rounded-full h-2 mt-4",children:[e.jsx("div",{className:"bg-[#065033] h-2 rounded-full transition-all duration-300",style:{width:`${v.percentage}%`}}),e.jsx("p",{className:"text-xs text-[#6C6C6C] font-inter mt-1 text-center",children:s("Upload en cours... :percentage%",{percentage:v.percentage})})]})]})]})})})]})}export{ie as default};
