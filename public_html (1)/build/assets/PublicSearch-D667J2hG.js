import{r as j,j as e,$ as N,Y as g,m as v}from"./app-CV-uduzR.js";import{u as A}from"./translations-ByLVRw2M.js";import{P as I}from"./PublicLayout-DkhC6XYf.js";import"./ApplicationLogo-DtnQNlSQ.js";import"./LanguageSwitcher-CB5q9_EP.js";import"./Dropdown-CBZVXiBJ.js";import"./transition-CRZGpZtR.js";const c={Search:({className:l})=>e.jsx("svg",{className:l,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),Home:({className:l})=>e.jsx("svg",{className:l,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"})})};function k({properties:l,propertyTypes:m,cities:u,filters:n}){var p;const{__:a}=A();console.log("🏠 PublicSearch Component Loaded"),console.log("📊 Properties received:",l),console.log("🔢 Properties count:",((p=l==null?void 0:l.data)==null?void 0:p.length)||0),console.log("📝 Property types:",m),console.log("🏙️ Cities:",u),console.log("🔍 Filters:",n);const[i,b]=j.useState({search_term:n.search_term||"",property_type:n.property_type||"",min_price:n.min_price||"",max_price:n.max_price||"",city:n.city||""}),o=(s,r)=>{b(t=>({...t,[s]:r}))},f=s=>{s.preventDefault(),console.log("🔍 Public Search initiated"),console.log("📝 Search form data:",i),console.log("🎯 Search term:",i.search_term),console.log("🏠 Property type:",i.property_type),console.log("💰 Price range:",{min:i.min_price,max:i.max_price}),console.log("📍 City filter:",i.city);const r=new URLSearchParams;Object.entries(i).forEach(([t,d])=>{d&&d.toString().trim()&&r.append(t,d.toString().trim())}),console.log("📤 Final search parameters:",Object.fromEntries(r)),v.get(route("properties.search"),Object.fromEntries(r),{onBefore:()=>{console.log("⏳ Public search request starting...")},onSuccess:t=>{console.log("✅ Public search completed successfully"),console.log("📊 Results:",t.props.properties)},onError:t=>{console.error("❌ Public search failed:",t)}})},x=s=>new Intl.NumberFormat("en-US",{style:"currency",currency:"EUR",maximumFractionDigits:0}).format(s),h=s=>({APPARTEMENT:a("Apartment"),MAISON:a("House"),VILLA:a("Villa"),STUDIO:a("Studio"),TERRAIN:a("Land"),COMMERCIAL:a("Commercial"),BUREAU:a("Office")})[s]||s;return e.jsxs(I,{children:[e.jsx(N,{title:a("Property Search")+" - Proprio Link"}),e.jsx("div",{className:"min-h-screen bg-[#F5F7F9]",children:e.jsx("div",{className:"py-12 bg-[#F5F7F9] min-h-screen",children:e.jsx("div",{className:"w-full px-8",children:e.jsxs("div",{className:"max-w-[1337px] mx-auto",children:[e.jsx("div",{className:"bg-white overflow-hidden shadow-sm sm:rounded-lg mb-8",children:e.jsx("div",{className:"p-6",children:e.jsx("form",{onSubmit:f,className:"space-y-6",children:e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-12 gap-4 items-center",children:[e.jsx("div",{className:"sm:col-span-2 lg:col-span-4",children:e.jsxs("div",{className:"flex items-center px-4 gap-[10px] w-full h-[39px] bg-white border-[1.5px] border-[#EAEAEA] rounded-[100px] focus-within:border-[#1E40AF] transition-colors",children:[e.jsx("div",{className:"flex-none w-4 h-4",children:e.jsx(c.Search,{className:"w-4 h-4 text-[#4E5051]"})}),e.jsx("input",{type:"text",value:i.search_term,onChange:s=>o("search_term",s.target.value),placeholder:a("Search..."),className:"flex-1 border-0 outline-none bg-transparent text-[14px] leading-[19px] font-normal text-[#5A5A5A] placeholder-[#5A5A5A] capitalize focus:outline-none focus:ring-0 focus:border-0"})]})}),e.jsx("div",{className:"sm:col-span-1 lg:col-span-2",children:e.jsx("div",{className:"flex items-center px-4 gap-[10px] w-full h-[39px] bg-white border-[1.5px] border-[#EAEAEA] rounded-[100px] focus-within:border-[#1E40AF] transition-colors",children:e.jsx("input",{type:"text",value:i.city,onChange:s=>o("city",s.target.value),placeholder:a("City"),className:"w-full border-0 outline-none bg-transparent text-[14px] leading-[19px] font-normal text-[#5A5A5A] placeholder-[#5A5A5A] capitalize focus:outline-none focus:ring-0 focus:border-0"})})}),e.jsx("div",{className:"sm:col-span-1 lg:col-span-2",children:e.jsx("div",{className:"flex items-center px-4 gap-[10px] w-full h-[39px] bg-white border-[1.5px] border-[#EAEAEA] rounded-[100px] focus-within:border-[#1E40AF] transition-colors",children:e.jsxs("select",{value:i.property_type,onChange:s=>o("property_type",s.target.value),className:"w-full border-0 outline-none bg-transparent text-[14px] leading-[19px] font-normal text-[#5A5A5A] capitalize appearance-none focus:outline-none focus:ring-0 focus:border-0",children:[e.jsx("option",{value:"",children:a("All types")}),Object.entries(m).map(([s,r])=>e.jsx("option",{value:s,children:a(r)},s))]})})}),e.jsx("div",{className:"sm:col-span-2 lg:col-span-2",children:e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("div",{className:"flex items-center px-3 gap-[10px] w-full h-[39px] bg-white border-[1.5px] border-[#EAEAEA] rounded-[100px] focus-within:border-[#1E40AF] transition-colors",children:e.jsx("input",{type:"number",value:i.min_price,onChange:s=>o("min_price",s.target.value),placeholder:a("Min"),className:"w-full border-0 outline-none bg-transparent text-[14px] leading-[19px] font-normal text-[#5A5A5A] placeholder-[#5A5A5A] capitalize focus:outline-none focus:ring-0 focus:border-0"})}),e.jsx("div",{className:"flex items-center px-3 gap-[10px] w-full h-[39px] bg-white border-[1.5px] border-[#EAEAEA] rounded-[100px] focus-within:border-[#1E40AF] transition-colors",children:e.jsx("input",{type:"number",value:i.max_price,onChange:s=>o("max_price",s.target.value),placeholder:a("Max"),className:"w-full border-0 outline-none bg-transparent text-[14px] leading-[19px] font-normal text-[#5A5A5A] placeholder-[#5A5A5A] capitalize focus:outline-none focus:ring-0 focus:border-0"})})]})}),e.jsx("div",{className:"sm:col-span-2 lg:col-span-2",children:e.jsxs("button",{type:"submit",className:"w-full bg-[#1E40AF] hover:bg-[#1E3A8A] text-white px-6 py-3 rounded-full font-medium transition-colors duration-200 flex items-center justify-center h-[39px] focus:outline-none focus:ring-0",children:[e.jsx(c.Search,{className:"w-4 h-4 mr-2"}),a("Search")]})})]})})})}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 2xl:grid-cols-5 gap-4 md:gap-6",children:l.data.map(s=>e.jsxs(g,{href:route("property.public",s.id),className:"block",children:[e.jsx("div",{className:"hidden md:block",children:e.jsxs("div",{className:"desktop-card bg-white rounded-[12px] overflow-hidden shadow-sm flex flex-col p-[12px] transition-all duration-200 hover:-translate-y-1 hover:shadow-lg",children:[e.jsxs("div",{className:"desktop-card-image-container relative overflow-hidden",children:[s.images&&s.images.length>0?e.jsx("img",{src:`/storage/${s.images[0].chemin_fichier}`,alt:"Property image",className:"desktop-card-image w-full h-[138px] object-cover rounded-[8px] transition-transform duration-300 hover:scale-110"}):e.jsx("img",{src:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTgwIiBoZWlnaHQ9IjEzOCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICAgIDxyZWN0IHdpZHRoPSIxODAiIGhlaWdodD0iMTM4IiBmaWxsPSIjZjNmNGY2Ii8+CiAgICA8cmVjdCB4PSIzNiIgeT0iMzQiIHdpZHRoPSIxMDgiIGhlaWdodD0iNzAiIGZpbGw9IiNlNWU3ZWIiLz4KICAgIDxyZWN0IHg9IjQ1IiB5PSI0MiIgd2lkdGg9IjM2IiBoZWlnaHQ9IjI4IiBmaWxsPSIjZDFkNWRiIi8+CiAgICA8cmVjdCB4PSI5OSIgeT0iNDIiIHdpZHRoPSIzNiIgaGVpZ2h0PSIyOCIgZmlsbD0iI2QxZDVkYiIvPgogICAgPHJlY3QgeD0iNDUiIHk9Ijc4IiB3aWR0aD0iOTAiIGhlaWdodD0iMjAiIGZpbGw9IiNkMWQ1ZGIiLz4KICAgIDx0ZXh0IHg9IjkwIiB5PSIxMjAiIHRleHQtYW5jaG9yPSJtaWRkbGUiIGZpbGw9IiM2YjcyODAiIGZvbnQtZmFtaWx5PSJBcmlhbCIgZm9udC1zaXplPSIxMiI+U2ltaWxhciBQcm9wZXJ0eTwvdGV4dD4KICA8L3N2Zz4K",alt:"Property image",className:"desktop-card-image w-full h-[138px] object-cover rounded-[8px] transition-transform duration-300 hover:scale-110"}),e.jsx("div",{className:"desktop-status-badge absolute bottom-3 left-0 bg-[#1E40AF] text-white text-[14px] font-medium py-1 px-3 rounded-r",children:a("For Sale")})]}),e.jsxs("div",{className:"desktop-card-content py-4 px-0",children:[e.jsxs("div",{className:"desktop-price-building-row flex justify-between items-center mb-2",children:[e.jsx("p",{className:"desktop-price text-[18px] font-bold text-[#212121]",children:x(s.prix)}),e.jsx("p",{className:"desktop-property-type text-[11px] font-bold text-[#6b7280] text-right",children:h(s.type_propriete)})]}),e.jsxs("div",{className:"desktop-property-details flex flex-wrap gap-2 text-[12px] text-[#374151] mb-2",children:[s.nombre_chambres&&e.jsxs(e.Fragment,{children:[e.jsxs("span",{className:"font-medium",children:[s.nombre_chambres," ",s.nombre_chambres===1?a("Bed"):a("Beds")]}),e.jsx("span",{children:"|"})]}),s.nombre_salles_bain&&e.jsxs(e.Fragment,{children:[e.jsxs("span",{className:"font-medium",children:[s.nombre_salles_bain," ",s.nombre_salles_bain===1?a("Bath"):a("Baths")]}),e.jsx("span",{children:"|"})]}),e.jsxs("span",{className:"font-medium",children:[s.superficie_m2," m²"]})]}),e.jsxs("p",{className:"desktop-address text-[11px] font-bold text-[#212121]",children:[s.ville,", ",s.pays]})]})]})}),e.jsx("div",{className:"block md:hidden",children:e.jsx("div",{className:"mobile-card bg-white rounded-lg overflow-hidden shadow-sm border border-gray-200 transition-all duration-200 hover:shadow-md",children:e.jsxs("div",{className:"flex",children:[e.jsxs("div",{className:"w-32 h-24 flex-shrink-0 relative overflow-hidden",children:[s.images&&s.images.length>0?e.jsx("img",{src:`/storage/${s.images[0].chemin_fichier}`,alt:"Property image",className:"w-full h-full object-cover"}):e.jsx("div",{className:"w-full h-full bg-gray-200 flex items-center justify-center",children:e.jsx(c.Home,{className:"w-8 h-8 text-gray-400"})}),e.jsx("div",{className:"absolute top-1 left-1 bg-[#1E40AF] text-white text-xs font-medium py-0.5 px-2 rounded",children:a("For Sale")})]}),e.jsxs("div",{className:"flex-1 p-3",children:[e.jsxs("div",{className:"flex justify-between items-start mb-1",children:[e.jsx("p",{className:"text-lg font-bold text-[#212121]",children:x(s.prix)}),e.jsx("p",{className:"text-xs font-semibold text-[#6b7280]",children:h(s.type_propriete)})]}),e.jsxs("p",{className:"text-xs text-[#212121] font-medium mb-2",children:[s.ville,", ",s.pays]}),e.jsxs("div",{className:"flex flex-wrap gap-1 text-xs text-[#374151]",children:[s.nombre_chambres&&e.jsxs("span",{className:"font-medium",children:[s.nombre_chambres," ",s.nombre_chambres===1?a("Bed"):a("Beds")]}),s.nombre_chambres&&s.nombre_salles_bain&&e.jsx("span",{children:"•"}),s.nombre_salles_bain&&e.jsxs("span",{className:"font-medium",children:[s.nombre_salles_bain," ",s.nombre_salles_bain===1?a("Bath"):a("Baths")]}),(s.nombre_chambres||s.nombre_salles_bain)&&e.jsx("span",{children:"•"}),e.jsxs("span",{className:"font-medium",children:[s.superficie_m2," m²"]})]})]})]})})})]},s.id))}),l.last_page>1&&e.jsx("div",{className:"mt-8 flex justify-center px-4",children:e.jsx("div",{className:"flex items-center space-x-1 sm:space-x-2 overflow-x-auto",children:l.links.map((s,r)=>e.jsx(g,{href:s.url||"#",className:`px-2 sm:px-3 py-2 text-xs sm:text-sm rounded-md whitespace-nowrap ${s.active?"bg-[#1E40AF] text-white":s.url?"bg-white text-gray-700 border border-gray-300 hover:bg-gray-50":"bg-gray-100 text-gray-400 cursor-not-allowed"}`,dangerouslySetInnerHTML:{__html:s.label}},r))})}),l.data.length===0&&e.jsxs("div",{className:"text-center py-12 bg-white rounded-lg",children:[e.jsx(c.Home,{className:"mx-auto h-12 w-12 text-gray-400"}),e.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:a("No properties found")}),e.jsx("p",{className:"mt-1 text-sm text-gray-500",children:a("Try adjusting your search criteria")})]})]})})})})]})}export{k as default};
