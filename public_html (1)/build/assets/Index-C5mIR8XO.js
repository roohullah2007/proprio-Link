import{r as m,j as e,$ as g,Y as o,m as y}from"./app-iFD7Weej.js";import{A as v}from"./AuthenticatedLayout-DWhC2xWj.js";import{u as w}from"./translations-rX8tNeDX.js";import{f as N}from"./dateUtils-Bt-j5DEn.js";import{P as b}from"./PropertyImage-ji4gt88r.js";import"./ApplicationLogo-BMRKG7mZ.js";import"./Dropdown-CjFkiSaH.js";import"./transition-F1nsk1y3.js";import"./LanguageSwitcher-CvGVWDg5.js";const d={Eye:({className:n})=>e.jsxs("svg",{className:n,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]}),MoreHorizontal:({className:n})=>e.jsx("svg",{className:n,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 12h.01M12 12h.01M19 12h.01M6 12a1 1 0 11-2 0 1 1 0 012 0zm7 0a1 1 0 11-2 0 1 1 0 012 0zm7 0a1 1 0 11-2 0 1 1 0 012 0z"})}),Edit:({className:n})=>e.jsx("svg",{className:n,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})}),Trash:({className:n})=>e.jsx("svg",{className:n,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})};function R({auth:n,properties:a}){const{__:s}=w(),[c,l]=m.useState(null),x=m.useRef(null);m.useEffect(()=>{const t=r=>{x.current&&!x.current.contains(r.target)&&l(null)};return document.addEventListener("mousedown",t),()=>{document.removeEventListener("mousedown",t)}},[]);const u=t=>{const r={EN_ATTENTE:"bg-yellow-100 text-yellow-800",PUBLIE:"bg-green-100 text-green-800",REJETE:"bg-red-100 text-red-800",VENDU:"bg-blue-100 text-blue-800"},i={EN_ATTENTE:s("En attente"),PUBLIE:s("Publié"),REJETE:s("Rejeté"),VENDU:s("Vendu")};return e.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${r[t]}`,children:i[t]})},h=t=>new Intl.NumberFormat("fr-FR",{style:"currency",currency:"EUR",minimumFractionDigits:0,maximumFractionDigits:0}).format(t),p=t=>{const r=a.data.find(j=>j.id===t);let i;(r==null?void 0:r.statut)==="PUBLIE"?i=s("Are you sure you want to delete this published property? This action will also delete all purchased contacts and cannot be undone."):i=s("Are you sure you want to delete this property?"),confirm(i)&&y.delete(route("properties.destroy",t))},f=t=>({APPARTEMENT:s("Apartment"),MAISON:s("House"),TERRAIN:s("Land"),COMMERCIAL:s("Commercial Space"),BUREAU:s("Office"),AUTRES:s("Other")})[t]||t;return e.jsxs(v,{user:n.user,header:e.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center w-full space-y-4 sm:space-y-0",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"font-inter font-medium text-[14px] leading-[19px] flex items-center text-[#000] capitalize",children:s("My Properties")}),e.jsx("p",{className:"text-[#6C6C6C] text-xs font-inter mt-1",children:s("Manage your properties submitted on Proprio Link")})]}),e.jsxs(o,{href:route("properties.create"),className:"flex justify-center items-center px-4 py-2 gap-2 h-8 bg-[#0F44FC] border border-[#0F44FC] rounded-full font-inter font-medium text-sm text-white transition-all duration-200 hover:bg-[#0A37D1] focus:outline-none focus:bg-[#0A37D1] whitespace-nowrap",children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),e.jsx("span",{className:"hidden sm:inline",children:s("New property")}),e.jsx("span",{className:"sm:hidden",children:s("New")})]})]}),children:[e.jsx(g,{title:s("My Properties")}),e.jsx("div",{className:"py-8",children:e.jsxs("div",{className:"mx-auto max-w-[1336px] px-4 sm:px-8",children:[a.data.length===0?e.jsx("div",{className:"bg-white border border-[#EAEAEA] rounded-2xl shadow-sm",children:e.jsxs("div",{className:"text-center py-16 px-8",children:[e.jsx("div",{className:"w-20 h-20 bg-[#F5F9FA] border border-[#EAEAEA] rounded-full flex items-center justify-center mx-auto mb-6",children:e.jsxs("svg",{className:"w-10 h-10 text-[#6C6C6C]",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 7v10a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2H5a2 2 0 00-2-2z"}),e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3a2 2 0 012-2h4a2 2 0 012 2v4m-6 0V7a2 2 0 012-2h4a2 2 0 012 2v0"})]})}),e.jsx("h3",{className:"text-xl font-semibold text-[#696969] font-inter mb-3",children:s("No properties yet")}),e.jsx("p",{className:"text-[#6C6C6C] font-inter mb-8 max-w-md mx-auto",children:s("You haven't submitted any properties yet. Start by adding your first property to get started.")}),e.jsxs(o,{href:route("properties.create"),className:"inline-flex justify-center items-center px-6 py-3 gap-2 h-11 bg-[#0F44FC] border border-[#0F44FC] rounded-full font-inter font-medium text-sm text-white transition-all duration-200 hover:bg-[#0A37D1] focus:outline-none focus:bg-[#0A37D1] whitespace-nowrap",children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),s("Submit my first property")]})]})}):e.jsxs("div",{className:"bg-white border border-[#EAEAEA] rounded-2xl shadow-sm overflow-hidden",children:[e.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:e.jsxs("h3",{className:"text-lg font-medium text-gray-900",children:[s("My Properties")," (",a.data.length,")"]})}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:s("Property")}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:s("Price")}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:s("Status")}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:s("Contacts")}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:s("Date")}),e.jsx("th",{className:"px-6 py-4 text-right text-sm font-medium text-[#696969] font-inter",children:s("Actions")})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:a.data.map(t=>{var r;return e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0 h-12 w-12",children:e.jsx(b,{image:(r=t.images)==null?void 0:r[0],alt:t.adresse_complete,className:"h-12 w-12 rounded-lg object-cover",fallbackClassName:"h-12 w-12 rounded-lg"})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("div",{className:"text-sm font-medium text-gray-900",children:f(t.type_propriete)}),e.jsxs("div",{className:"text-sm text-gray-500",children:[t.ville,", ",t.pays]}),e.jsxs("div",{className:"text-sm text-gray-500",children:[t.superficie_m2," m²"]})]})]})}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[e.jsx("div",{className:"text-sm text-gray-900 font-medium",children:h(t.prix)}),e.jsxs("div",{className:"text-sm text-gray-500",children:[h(t.prix/t.superficie_m2),"/m²"]})]}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:u(t.statut)}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:t.statut==="PUBLIE"?e.jsxs("div",{children:[e.jsxs("div",{children:[t.contacts_restants," / ",t.contacts_souhaites]}),e.jsx("div",{className:"text-xs text-gray-500",children:s("remaining")})]}):e.jsx("span",{className:"text-gray-400",children:"—"})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:N(t.created_at)}),e.jsx("td",{className:"px-6 py-4 text-right",children:e.jsxs("div",{className:"flex items-center space-x-2 justify-end",children:[e.jsxs(o,{href:route("properties.show",t.id),className:"inline-flex items-center px-3 py-1.5 border border-[#EAEAEA] rounded-lg text-sm text-[#6C6C6C] hover:text-[#065033] hover:border-[#065033] transition-colors",children:[e.jsx(d.Eye,{className:"w-4 h-4 mr-1"}),s("View")]}),e.jsxs("div",{className:"relative",ref:c===t.id?x:null,children:[e.jsx("button",{onClick:()=>l(c===t.id?null:t.id),className:"inline-flex items-center px-2 py-1.5 border border-[#EAEAEA] rounded-lg text-[#6C6C6C] hover:text-[#065033] hover:border-[#065033] transition-colors",children:e.jsx(d.MoreHorizontal,{className:"w-4 h-4"})}),c===t.id&&e.jsx("div",{className:"absolute right-0 mt-1 w-48 bg-white rounded-lg shadow-lg border border-[#EAEAEA] z-50",children:e.jsxs("div",{className:"py-1",children:[e.jsxs(o,{href:route("properties.edit",t.id),className:"flex items-center w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-50",onClick:()=>l(null),children:[e.jsx(d.Edit,{className:"w-4 h-4 mr-2"}),s("Edit")]}),e.jsxs("button",{onClick:()=>{p(t.id),l(null)},className:"flex items-center w-full text-left px-4 py-2 text-sm text-red-600 hover:bg-red-50",children:[e.jsx(d.Trash,{className:"w-4 h-4 mr-2"}),s("Delete")]})]})})]})]})})]},t.id)})})]})})]}),a.links&&a.links.length>3&&e.jsx("div",{className:"bg-white border border-[#EAEAEA] rounded-2xl shadow-sm overflow-hidden mt-6",children:e.jsx("div",{className:"px-6 py-4 border-t border-gray-200 bg-gray-50",children:e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between space-y-3 sm:space-y-0",children:[e.jsxs("div",{className:"text-sm text-gray-700 font-inter",children:[s("Showing")," ",a.from," ",s("to")," ",a.to," ",s("of")," ",a.total," ",s("results")]}),e.jsx("div",{className:"flex flex-wrap gap-1 justify-center sm:justify-end",children:a.links.map((t,r)=>e.jsx(o,{href:t.url||"#",className:`px-2 sm:px-3 py-2 text-xs sm:text-sm rounded-md font-medium ${t.active?"bg-[#065033] text-white":t.url?"bg-white text-gray-700 border border-gray-300 hover:bg-gray-50":"bg-gray-100 text-gray-400 cursor-not-allowed"}`,preserveState:!0,preserveScroll:!0,dangerouslySetInnerHTML:{__html:t.label}},r))})]})})})]})})]})}export{R as default};
