import{j as e,$ as c,Y as x}from"./app-CV-uduzR.js";import{A as m}from"./AuthenticatedLayout-5m2CGkcX.js";import{u as h}from"./translations-ByLVRw2M.js";import{f as p}from"./dateUtils-Bt-j5DEn.js";import"./ApplicationLogo-DtnQNlSQ.js";import"./Dropdown-CBZVXiBJ.js";import"./transition-CRZGpZtR.js";import"./LanguageSwitcher-CB5q9_EP.js";const n={DocumentText:({className:r})=>e.jsx("svg",{className:r,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),Download:({className:r})=>e.jsx("svg",{className:r,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),CreditCard:({className:r})=>e.jsx("svg",{className:r,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 10h18M7 15h1m4 0h1m-7 4h12a3 3 0 003-3V8a3 3 0 00-3-3H6a3 3 0 00-3 3v8a3 3 0 003 3z"})}),Calendar:({className:r})=>e.jsx("svg",{className:r,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),Home:({className:r})=>e.jsx("svg",{className:r,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"})})};function y({auth:r,purchases:o}){const{__:s}=h(),a=t=>new Intl.NumberFormat("fr-FR",{style:"currency",currency:"EUR"}).format(t),i=o.filter(t=>t.statut_paiement==="succeeded"),l=i.reduce((t,d)=>t+parseFloat(d.montant_paye),0);return e.jsxs(m,{user:r.user,header:e.jsx("div",{className:"flex justify-between items-center px-0 gap-[9px] w-full h-[31px]",children:e.jsx("div",{className:"flex-none order-0 flex-grow-0",children:e.jsx("h1",{className:"font-inter font-medium text-[14px] leading-[19px] flex items-center text-[#000] capitalize",children:s("My Invoices")})})}),children:[e.jsx(c,{title:s("My Invoices")}),e.jsx("div",{className:"py-8",children:e.jsxs("div",{className:"mx-auto max-w-[1336px] px-8",children:[e.jsx("div",{className:"bg-white border border-[#EAEAEA] rounded-lg p-6 mb-8",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-3 rounded-full bg-blue-100",children:e.jsx(n.DocumentText,{className:"w-6 h-6 text-blue-600"})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("h3",{className:"text-2xl font-bold text-[#000] font-inter",children:i.length}),e.jsx("p",{className:"text-sm text-[#6C6C6C] font-inter",children:s("Contact Purchases")})]})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-3 rounded-full bg-green-100",children:e.jsx(n.CreditCard,{className:"w-6 h-6 text-green-600"})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("h3",{className:"text-2xl font-bold text-[#000] font-inter",children:a(l)}),e.jsx("p",{className:"text-sm text-[#6C6C6C] font-inter",children:s("Total Spent")})]})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-3 rounded-full bg-purple-100",children:e.jsx(n.Calendar,{className:"w-6 h-6 text-purple-600"})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("h3",{className:"text-2xl font-bold text-[#000] font-inter",children:i.filter(t=>new Date(t.paiement_confirme_a).getMonth()===new Date().getMonth()).length}),e.jsx("p",{className:"text-sm text-[#6C6C6C] font-inter",children:s("This Month")})]})]})]})}),e.jsxs("div",{className:"bg-white border border-[#EAEAEA] rounded-lg overflow-hidden",children:[e.jsx("div",{className:"px-6 py-4 border-b border-[#EAEAEA]",children:e.jsx("h3",{className:"text-lg font-semibold text-[#000] font-inter",children:s("Purchase History & Invoices")})}),e.jsxs("div",{className:"divide-y divide-[#EAEAEA]",children:[i.map(t=>e.jsx("div",{className:"p-6 hover:bg-[#F5F9FA]",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"p-3 rounded-full bg-[#F5F9FA]",children:e.jsx(n.Home,{className:"w-6 h-6 text-[#065033]"})}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-[#000] font-inter",children:t.property?`${t.property.type_propriete} - ${t.property.ville}`:s("Property Contact Purchase")}),e.jsxs("div",{className:"flex items-center space-x-4 text-sm text-[#6C6C6C] font-inter",children:[e.jsxs("span",{children:[s("Purchased on")," ",p(t.paiement_confirme_a)]}),e.jsx("span",{children:"â€¢"}),e.jsxs("span",{children:[s("Payment ID"),": ",t.stripe_payment_intent_id]})]}),t.property&&e.jsxs("p",{className:"text-sm text-[#6C6C6C] font-inter mt-1",children:[s("Owner"),": ",t.property.proprietaire.prenom," ",t.property.proprietaire.nom]})]})]}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-lg font-semibold text-[#065033] font-inter",children:a(t.montant_paye)}),e.jsx("p",{className:"text-sm text-[#6C6C6C] font-inter",children:s("Paid")})]}),e.jsxs("a",{href:route("invoices.generate",t.id),className:"inline-flex items-center px-4 py-2 border border-[#065033] rounded-lg text-sm font-medium text-[#065033] bg-white hover:bg-[#F5F9FA] transition-colors font-inter",children:[e.jsx(n.Download,{className:"w-4 h-4 mr-2"}),s("Download Invoice")]})]})]})},t.id)),i.length===0&&e.jsxs("div",{className:"text-center py-12",children:[e.jsx(n.DocumentText,{className:"w-12 h-12 text-[#6C6C6C] mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-[#000] font-inter mb-2",children:s("No invoices yet")}),e.jsx("p",{className:"text-[#6C6C6C] font-inter mb-4",children:s("You haven't made any property contact purchases yet.")}),e.jsx(x,{href:route("agent.properties"),className:"inline-flex items-center px-4 py-2 bg-[#065033] text-white rounded-lg hover:bg-[#054028] transition-colors font-inter",children:s("Browse Properties")})]})]})]})]})})]})}export{y as default};
