import{r as c,j as e,$ as D,Y as w}from"./app-iFD7Weej.js";import{A as F}from"./AuthenticatedLayout-DWhC2xWj.js";import{u as M}from"./translations-rX8tNeDX.js";import"./ApplicationLogo-BMRKG7mZ.js";import"./Dropdown-CjFkiSaH.js";import"./transition-F1nsk1y3.js";import"./LanguageSwitcher-CvGVWDg5.js";const o={Home:({className:a})=>e.jsx("svg",{className:a,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"})}),CreditCard:({className:a})=>e.jsx("svg",{className:a,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 10h18M7 15h1m4 0h1m-7 4h12a3 3 0 003-3V8a3 3 0 00-3-3H6a3 3 0 00-3 3v8a3 3 0 003 3z"})}),Search:({className:a})=>e.jsx("svg",{className:a,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),ShoppingBag:({className:a})=>e.jsx("svg",{className:a,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 11V7a4 4 0 00-8 0v4M5 9h14l-1 12H6L5 9z"})}),Settings:({className:a})=>e.jsxs("svg",{className:a,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]}),ArrowRight:({className:a})=>e.jsx("svg",{className:a,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M14 5l7 7m0 0l-7 7m7-7H3"})})};function R({auth:a,properties:S=[],purchaseHistory:d=[],stats:x={}}){const{__:t}=M(),[n,i]=c.useState("30d"),[m,l]=c.useState(!1),h=c.useRef(null),j=(()=>{const r=new Date;let s;switch(n){case"7d":s=new Date(r.getTime()-7*24*60*60*1e3);break;case"30d":s=new Date(r.getTime()-30*24*60*60*1e3);break;case"90d":s=new Date(r.getTime()-90*24*60*60*1e3);break;case"1y":s=new Date(r.getTime()-365*24*60*60*1e3);break;default:s=new Date(r.getTime()-30*24*60*60*1e3)}const g=(d==null?void 0:d.filter(u=>new Date(u.created_at)>=s))||[],N=g.reduce((u,p)=>{const L=Number(p==null?void 0:p.montant_paye)||0;return u+L},0),C=g.length;return{purchases:g,totalSpent:N,totalPurchases:C}})(),f=r=>{const s=Number(r)||0;return new Intl.NumberFormat("fr-FR").format(s)};c.useEffect(()=>{const r=s=>{h.current&&!h.current.contains(s.target)&&l(!1)};return document.addEventListener("mousedown",r),()=>{document.removeEventListener("mousedown",r)}},[]);const v=()=>{switch(n){case"7d":return t("Last 7 Days");case"30d":return t("Last 30 Days");case"90d":return t("Last 90 Days");case"1y":return t("Last Year");default:return t("Last 30 Days")}},y=[{title:t("Available Properties"),value:f((x==null?void 0:x.available_properties)||0),change:"+12.5%",trend:"up",icon:o.Home,color:"blue"},{title:t("Contacts Purchased"),value:f(j.totalPurchases),change:"+15.3%",trend:"up",icon:o.ShoppingBag,color:"purple"}],k=[{title:t("Search Properties"),description:t("Find and explore available properties"),icon:o.Search,href:"/agent/properties",color:"blue"},{title:t("My Purchases"),description:t("View your contact purchases"),icon:o.CreditCard,href:"/agent/purchases",color:"green"},{title:t("Settings"),description:t("Manage your account preferences"),icon:o.Settings,href:"/profile",color:"blue"}],b={blue:{bg:"bg-blue-500",light:"bg-blue-50",text:"text-blue-600",border:"border-blue-200"},green:{bg:"bg-blue-500",light:"bg-blue-50",text:"text-blue-600",border:"border-blue-200"},purple:{bg:"bg-purple-500",light:"bg-purple-50",text:"text-purple-600",border:"border-purple-200"},orange:{bg:"bg-orange-500",light:"bg-orange-50",text:"text-orange-600",border:"border-orange-200"},gray:{bg:"bg-gray-500",light:"bg-gray-50",text:"text-gray-600",border:"border-gray-200"}};return e.jsxs(F,{usePillNavigation:!1,header:e.jsxs("div",{className:"flex justify-between items-center px-0 gap-[9px] w-full h-[31px]",children:[e.jsx("div",{className:"flex-none order-0 flex-grow-0",children:e.jsx("h1",{className:"font-inter font-medium text-[14px] leading-[19px] flex items-center text-[#000] capitalize",children:t("Dashboard")})}),e.jsx("div",{className:"flex items-center gap-[14px] h-[31px] flex-none order-1 flex-grow-0",children:e.jsxs("div",{className:"relative",ref:h,children:[e.jsxs("button",{onClick:()=>l(!m),className:"flex justify-center items-center px-[10px] py-[10px] gap-[10px] min-w-max h-[31px] bg-[#0F44FC] border-[1.5px] border-[#0F44FC] rounded-[20px] flex-none order-0 flex-grow-0 transition-colors hover:bg-[#0A37D1] focus:outline-none focus:bg-[#0A37D1]",children:[e.jsx("svg",{width:"15",height:"13",viewBox:"0 0 17 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"flex-none order-0 flex-grow-0",children:e.jsx("path",{d:"M16 2.625H14.3333M16 7.5H11.8333M16 12.375H11.8333M4.33333 14V8.76848C4.33333 8.59948 4.33333 8.51498 4.31632 8.43413C4.30122 8.36247 4.27626 8.29308 4.2421 8.22784C4.20359 8.15439 4.14945 8.08841 4.04116 7.95638L1.29218 4.60609C1.18388 4.47411 1.12974 4.40812 1.09123 4.33464C1.05707 4.26944 1.03211 4.20005 1.01702 4.12834C1 4.04751 1 3.963 1 3.79398V2.3C1 1.84496 1 1.61744 1.09082 1.44363C1.17072 1.29075 1.29821 1.16646 1.45501 1.08855C1.63327 1 1.86662 1 2.33333 1H9.66667C10.1334 1 10.3668 1 10.545 1.08855C10.7018 1.16646 10.8292 1.29075 10.9092 1.44363C11 1.61744 11 1.84496 11 2.3V3.79398C11 3.963 11 4.04751 10.983 4.12834C10.9679 4.20005 10.9429 4.26944 10.9087 4.33464C10.8702 4.40812 10.8161 4.47411 10.7078 4.60609L7.95883 7.95638C7.85058 8.08841 7.79642 8.15439 7.75792 8.22784C7.72375 8.29308 7.69875 8.36247 7.68367 8.43413C7.66667 8.51498 7.66667 8.59948 7.66667 8.76848V11.5625L4.33333 14Z",stroke:"white",strokeLinecap:"round",strokeLinejoin:"round"})}),e.jsx("span",{className:"font-inter font-medium text-[12px] leading-[19px] flex items-center capitalize text-white flex-none order-1 flex-grow-0 whitespace-nowrap",children:v()}),e.jsx("svg",{className:`w-4 h-4 text-white transition-transform duration-200 flex-none order-2 flex-grow-0 ${m?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),m&&e.jsx("div",{className:"absolute right-0 mt-2 w-48 bg-white rounded-lg shadow-lg border border-gray-200 z-50",children:e.jsxs("div",{className:"py-1",children:[e.jsx("button",{onClick:()=>{i("7d"),l(!1)},className:`block w-full text-left px-4 py-2 text-sm transition-colors ${n==="7d"?"bg-[#0F44FC] text-white":"text-gray-700 hover:bg-gray-100"}`,children:t("Last 7 Days")}),e.jsx("button",{onClick:()=>{i("30d"),l(!1)},className:`block w-full text-left px-4 py-2 text-sm transition-colors ${n==="30d"?"bg-[#0F44FC] text-white":"text-gray-700 hover:bg-gray-100"}`,children:t("Last 30 Days")}),e.jsx("button",{onClick:()=>{i("90d"),l(!1)},className:`block w-full text-left px-4 py-2 text-sm transition-colors ${n==="90d"?"bg-[#0F44FC] text-white":"text-gray-700 hover:bg-gray-100"}`,children:t("Last 90 Days")}),e.jsx("button",{onClick:()=>{i("1y"),l(!1)},className:`block w-full text-left px-4 py-2 text-sm transition-colors ${n==="1y"?"bg-[#0F44FC] text-white":"text-gray-700 hover:bg-gray-100"}`,children:t("Last Year")})]})})]})})]}),children:[e.jsx(D,{title:t("Agent Dashboard")}),e.jsx("div",{className:"py-8",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 space-y-8",children:[e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4 sm:gap-6",children:y.map((r,s)=>e.jsx("div",{className:"bg-white rounded-xl border border-gray-200 p-4 sm:p-6 hover:shadow-lg transition-shadow duration-200",children:e.jsxs("div",{children:[e.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-1",children:r.value}),e.jsx("p",{className:"text-sm text-gray-600",children:r.title})]})},s))}),e.jsx("div",{className:"grid grid-cols-1 gap-8",children:e.jsx("div",{className:"w-full",children:e.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-4 sm:p-6",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between mb-4 sm:mb-6 space-y-2 sm:space-y-0",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:t("Quick Actions")}),e.jsx("span",{className:"text-sm text-gray-500",children:t("Get started")})]}),e.jsx("div",{className:"grid grid-cols-1 gap-3 sm:gap-4",children:k.map((r,s)=>e.jsxs(w,{href:r.href,className:"group flex items-center p-3 sm:p-4 rounded-lg border border-gray-200 hover:border-gray-300 hover:bg-gray-50 transition-all duration-200",children:[e.jsx("div",{className:`w-8 h-8 sm:w-10 sm:h-10 rounded-lg ${b[r.color].light} flex items-center justify-center mr-3 sm:mr-4 flex-shrink-0`,children:e.jsx(r.icon,{className:`w-4 h-4 sm:w-5 sm:h-5 ${b[r.color].text}`})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h3",{className:"text-sm font-medium text-gray-900 group-hover:text-gray-700 truncate",children:r.title}),e.jsx("p",{className:"text-xs text-gray-500 mt-1 line-clamp-2 sm:line-clamp-1",children:r.description})]}),e.jsx(o.ArrowRight,{className:"w-4 h-4 text-gray-400 group-hover:text-gray-600 transition-colors flex-shrink-0 ml-2"})]},s))})]})})}),e.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-purple-600 rounded-xl p-4 sm:p-6 text-white",children:e.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between space-y-4 lg:space-y-0",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h2",{className:"text-lg sm:text-xl font-semibold mb-2",children:t("Getting Started with Proprio Link")}),e.jsx("p",{className:"text-blue-100 mb-4 text-sm sm:text-base",children:t("Follow these steps to maximize your property investment potential")}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center text-sm",children:[e.jsx("div",{className:"w-6 h-6 bg-white bg-opacity-20 rounded-full flex items-center justify-center text-xs font-medium mr-3 flex-shrink-0",children:"1"}),e.jsx("span",{children:t("Search and filter properties by your criteria")})]}),e.jsxs("div",{className:"flex items-center text-sm",children:[e.jsx("div",{className:"w-6 h-6 bg-white bg-opacity-20 rounded-full flex items-center justify-center text-xs font-medium mr-3 flex-shrink-0",children:"2"}),e.jsx("span",{children:t("Purchase owner contacts for €15 each")})]}),e.jsxs("div",{className:"flex items-center text-sm",children:[e.jsx("div",{className:"w-6 h-6 bg-white bg-opacity-20 rounded-full flex items-center justify-center text-xs font-medium mr-3 flex-shrink-0",children:"3"}),e.jsx("span",{children:t("Connect directly with property owners")})]})]})]}),e.jsx("div",{className:"lg:ml-8",children:e.jsxs(w,{href:"/agent/properties",className:"bg-white text-blue-600 px-4 sm:px-6 py-2 sm:py-3 rounded-lg font-medium hover:bg-gray-50 transition-colors inline-flex items-center text-sm sm:text-base w-full lg:w-auto justify-center lg:justify-start",children:[t("Start Exploring"),e.jsx(o.ArrowRight,{className:"w-4 h-4 ml-2"})]})})]})})]})})]})}export{R as default};
