import{r as h,R as N,j as e,m as C}from"./app-CV-uduzR.js";import{u as w}from"./translations-ByLVRw2M.js";function k({currentImage:n,onChange:l,error:c,userInitials:p="U"}){const{__:r}=w(),[o,a]=h.useState(n),[i,d]=h.useState(!1);N.useEffect(()=>{a(n)},[n]);const m=t=>{if(t&&t.type.startsWith("image/")){const s=new FileReader;s.onload=b=>a(b.target.result),s.readAsDataURL(t),l(t)}},f=t=>{const s=t.target.files[0];m(s)},u=t=>{t.preventDefault(),d(!0)},g=t=>{t.preventDefault(),d(!1)},v=t=>{t.preventDefault(),d(!1);const s=t.dataTransfer.files[0];m(s)},x=()=>{n&&!o?C.delete(route("profile.remove-image"),{preserveScroll:!0,onSuccess:()=>{a(null),l(null)},onError:t=>{console.error("Failed to remove profile image:",t)}}):(a(null),l(null))},j=()=>p;return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center space-x-6",children:[e.jsx("div",{className:"relative",children:o?e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:o,alt:r("Profile Image"),className:"w-24 h-24 rounded-full object-cover border-4 border-white shadow-lg"}),e.jsx("button",{type:"button",onClick:x,className:"absolute -top-2 -right-2 w-6 h-6 bg-red-500 hover:bg-red-600 text-white rounded-full flex items-center justify-center text-xs transition-colors",title:r("Remove image"),children:"Ã—"})]}):e.jsx("div",{className:"w-24 h-24 bg-gradient-to-br from-[#065033] to-[#0a7042] rounded-full flex items-center justify-center",children:e.jsx("span",{className:"text-2xl font-bold text-white font-inter",children:j()})})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"text-sm font-medium text-[#000] font-inter mb-1",children:r("Profile Photo")}),e.jsx("p",{className:"text-xs text-[#6C6C6C] font-inter mb-3",children:r("Upload a photo to personalize your profile. JPG, PNG, or GIF. Max 2MB.")}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsxs("label",{htmlFor:"profile_image_input",className:"inline-flex items-center px-4 py-2 bg-[#065033] border border-[#065033] rounded-lg text-white text-sm font-medium font-inter cursor-pointer hover:bg-[#054028] transition-colors",children:[e.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"})}),r(o?"Change Photo":"Upload Photo")]}),o&&e.jsx("button",{type:"button",onClick:x,className:"inline-flex items-center px-4 py-2 bg-white border border-[#EAEAEA] rounded-lg text-[#6C6C6C] text-sm font-medium font-inter hover:bg-gray-50 transition-colors",children:r("Remove")})]})]})]}),e.jsx("input",{id:"profile_image_input",type:"file",accept:"image/jpeg,image/jpg,image/png,image/gif",onChange:f,className:"hidden"}),e.jsx("div",{onDragOver:u,onDragLeave:g,onDrop:v,className:`
                    border-2 border-dashed rounded-lg p-6 text-center transition-colors
                    ${i?"border-[#065033] bg-green-50":"border-[#EAEAEA] hover:border-[#065033] hover:bg-green-50"}
                `,children:e.jsxs("div",{className:"space-y-2",children:[e.jsx("svg",{className:`mx-auto w-8 h-8 ${i?"text-[#065033]":"text-[#6C6C6C]"}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"})}),e.jsxs("div",{className:"text-sm",children:[e.jsx("span",{className:`font-medium ${i?"text-[#065033]":"text-[#6C6C6C]"} font-inter`,children:r("Drag and drop your image here")}),e.jsx("p",{className:"text-xs text-[#6C6C6C] font-inter mt-1",children:r("or click the Upload Photo button above")})]})]})}),c&&e.jsx("div",{className:"text-red-600 text-sm font-inter",children:c})]})}export{k as P};
