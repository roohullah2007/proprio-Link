import{r as a,j as e,$ as k,Y as w,m as v}from"./app-iFD7Weej.js";import{A as L}from"./AuthenticatedLayout-DWhC2xWj.js";import{u as M}from"./translations-rX8tNeDX.js";import"./ApplicationLogo-BMRKG7mZ.js";import"./Dropdown-CjFkiSaH.js";import"./transition-F1nsk1y3.js";import"./LanguageSwitcher-CvGVWDg5.js";const i={Search:({className:r})=>e.jsx("svg",{className:r,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),Filter:({className:r})=>e.jsx("svg",{className:r,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 4a1 1 0 011-1h16a1 1 0 011 1v2.586a1 1 0 01-.293.707l-6.414 6.414a1 1 0 00-.293.707V17l-4 4v-6.586a1 1 0 00-.293-.707L3.293 7.293A1 1 0 013 6.586V4z"})}),Home:({className:r})=>e.jsx("svg",{className:r,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"})}),Clock:({className:r})=>e.jsx("svg",{className:r,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),Eye:({className:r})=>e.jsxs("svg",{className:r,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]}),X:({className:r})=>e.jsx("svg",{className:r,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}),Clipboard:({className:r})=>e.jsx("svg",{className:r,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v10a2 2 0 002 2h8a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})})};function O({auth:r,properties:o,filters:m}){const{__:t}=M(),[S,F]=a.useState(!1),[h,N]=a.useState(!1),[d,p]=a.useState("all"),[f,l]=a.useState(!1),b=a.useRef(null),[n,x]=a.useState({search:m.search||"",type:m.type||"",price_min:m.price_min||"",price_max:m.price_max||""});a.useEffect(()=>{const s=u=>{b.current&&!b.current.contains(u.target)&&l(!1)};return document.addEventListener("mousedown",s),()=>{document.removeEventListener("mousedown",s)}},[]);const A=()=>{switch(d){case"today":return t("Today");case"7d":return t("Last 7 Days");case"30d":return t("Last 30 Days");case"all":return t("All Time");default:return t("All Time")}},g=s=>{s.preventDefault(),v.get(route("admin.pending-properties"),n,{preserveState:!0,preserveScroll:!0})},j=()=>{x({search:"",type:"",price_min:"",price_max:""}),v.get(route("admin.pending-properties"),{},{preserveState:!0,preserveScroll:!0})},y=s=>new Intl.NumberFormat("fr-FR",{style:"currency",currency:"EUR",minimumFractionDigits:0}).format(s),C=s=>new Date(s).toLocaleDateString("fr-FR",{year:"numeric",month:"long",day:"numeric"}),E=s=>({APPARTEMENT:t("Apartment"),MAISON:t("House"),TERRAIN:t("Land"),COMMERCIAL:t("Commercial Space"),BUREAU:t("Office"),AUTRES:t("Other")})[s]||s,c=n.search||n.type||n.price_min||n.price_max;return e.jsxs(L,{usePillNavigation:!1,header:e.jsxs("div",{className:"flex justify-between items-center px-0 gap-[9px] w-full h-[31px]",children:[e.jsx("div",{className:"flex-none order-0 flex-grow-0",children:e.jsx("h1",{className:"font-inter font-medium text-[14px] leading-[19px] flex items-center text-[#000] capitalize",children:t("Property Moderation")})}),e.jsx("div",{className:"flex items-center gap-[14px] h-[31px] flex-none order-1 flex-grow-0",children:e.jsxs("div",{className:"relative",ref:b,children:[e.jsxs("button",{onClick:()=>l(!f),className:"flex justify-center items-center px-[12px] py-[6px] gap-[8px] min-w-max h-[32px] bg-[#065033] border border-[#065033] rounded-full flex-none order-0 flex-grow-0 transition-colors hover:bg-[#054028] focus:outline-none focus:bg-[#054028]",children:[e.jsx("svg",{width:"12",height:"12",viewBox:"0 0 17 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"flex-none order-0 flex-grow-0",children:e.jsx("path",{d:"M16 2.625H14.3333M16 7.5H11.8333M16 12.375H11.8333M4.33333 14V8.76848C4.33333 8.59948 4.33333 8.51498 4.31632 8.43413C4.30122 8.36247 4.27626 8.29308 4.2421 8.22784C4.20359 8.15439 4.14945 8.08841 4.04116 7.95638L1.29218 4.60609C1.18388 4.47411 1.12974 4.40812 1.09123 4.33464C1.05707 4.26944 1.03211 4.20005 1.01702 4.12834C1 4.04751 1 3.963 1 3.79398V2.3C1 1.84496 1 1.61744 1.09082 1.44363C1.17072 1.29075 1.29821 1.16646 1.45501 1.08855C1.63327 1 1.86662 1 2.33333 1H9.66667C10.1334 1 10.3668 1 10.545 1.08855C10.7018 1.16646 10.8292 1.29075 10.9092 1.44363C11 1.61744 11 1.84496 11 2.3V3.79398C11 3.963 11 4.04751 10.983 4.12834C10.9679 4.20005 10.9429 4.26944 10.9087 4.33464C10.8702 4.40812 10.8161 4.47411 10.7078 4.60609L7.95883 7.95638C7.85058 8.08841 7.79642 8.15439 7.75792 8.22784C7.72375 8.29308 7.69875 8.36247 7.68367 8.43413C7.66667 8.51498 7.66667 8.59948 7.66667 8.76848V11.5625L4.33333 14Z",stroke:"white",strokeLinecap:"round",strokeLinejoin:"round"})}),e.jsx("span",{className:"font-inter font-medium text-[13px] leading-[16px] flex items-center text-white flex-none order-1 flex-grow-0 whitespace-nowrap",children:A()}),e.jsx("svg",{className:`w-3 h-3 text-white transition-transform duration-200 flex-none order-2 flex-grow-0 ${f?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),f&&e.jsx("div",{className:"absolute right-0 mt-2 w-48 bg-white rounded-lg shadow-lg border border-gray-200 z-50",children:e.jsxs("div",{className:"py-1",children:[e.jsx("button",{onClick:()=>{p("today"),l(!1)},className:`block w-full text-left px-4 py-2 text-sm transition-colors ${d==="today"?"bg-[#065033] text-white":"text-gray-700 hover:bg-gray-100"}`,children:t("Today")}),e.jsx("button",{onClick:()=>{p("7d"),l(!1)},className:`block w-full text-left px-4 py-2 text-sm transition-colors ${d==="7d"?"bg-[#065033] text-white":"text-gray-700 hover:bg-gray-100"}`,children:t("Last 7 Days")}),e.jsx("button",{onClick:()=>{p("30d"),l(!1)},className:`block w-full text-left px-4 py-2 text-sm transition-colors ${d==="30d"?"bg-[#065033] text-white":"text-gray-700 hover:bg-gray-100"}`,children:t("Last 30 Days")}),e.jsx("button",{onClick:()=>{p("all"),l(!1)},className:`block w-full text-left px-4 py-2 text-sm transition-colors ${d==="all"?"bg-[#065033] text-white":"text-gray-700 hover:bg-gray-100"}`,children:t("All Time")})]})})]})})]}),children:[e.jsx(k,{title:t("Property Moderation")+" - Propio"}),e.jsx("div",{className:"py-8",children:e.jsxs("div",{className:"mx-auto max-w-[1400px] px-8",children:[e.jsx("div",{className:"bg-white border border-[#EAEAEA] rounded-lg p-4 mb-8",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-semibold text-[#000] font-inter mb-2",children:t("Property Moderation")}),e.jsx("p",{className:"text-[#6C6C6C] font-inter",children:t("Review and approve property submissions from owners.")})]}),e.jsx("div",{className:"flex items-center gap-4",children:e.jsxs("div",{className:"flex justify-center items-center px-[12px] py-[6px] gap-[8px] min-w-max h-[32px] bg-[#065033] border border-[#065033] rounded-full",children:[e.jsx(i.Clock,{className:"w-4 h-4 text-white"}),e.jsx("span",{className:"text-white text-sm font-medium font-inter whitespace-nowrap",children:t("Requires Review")})]})})]})}),e.jsxs("div",{className:"bg-white border border-[#EAEAEA] rounded-2xl p-8 shadow-sm mb-8",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-[#696969] font-inter",children:t("Search & Filter Properties")}),e.jsxs("button",{onClick:()=>N(!h),className:`flex justify-center items-center px-[12px] py-[6px] gap-[8px] min-w-max h-[32px] border rounded-full transition-colors ${h||c?"bg-[#065033] border-[#065033] text-white":"bg-white border-[#EAEAEA] text-[#6C6C6C] hover:border-[#CEE8DE]"}`,children:[e.jsx(i.Filter,{className:"w-4 h-4"}),e.jsx("span",{className:"text-sm font-medium font-inter whitespace-nowrap",children:t(h?"Hide Filters":"Show Filters")}),c&&e.jsx("span",{className:"bg-white bg-opacity-20 text-xs px-2 py-0.5 rounded-full",children:Object.values(n).filter(s=>s).length})]})]}),e.jsx("div",{className:"mb-6",children:e.jsxs("div",{className:"flex items-center px-4 gap-[10px] w-full h-[39px] bg-white border-[1.5px] border-[#EAEAEA] rounded-[100px] focus-within:border-[#065033] transition-colors",children:[e.jsx(i.Search,{className:"flex-none w-4 h-4 text-[#4E5051]"}),e.jsx("input",{type:"text",value:n.search,onChange:s=>x({...n,search:s.target.value}),placeholder:t("Search by city, address, or owner name..."),className:"flex-1 border-0 outline-none bg-transparent text-[14px] leading-[19px] font-normal text-[#5A5A5A] placeholder-[#5A5A5A] focus:outline-none focus:ring-0 focus:border-0",onKeyPress:s=>{s.key==="Enter"&&g(s)}})]})}),h&&e.jsxs("form",{onSubmit:g,className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-[#696969] font-inter mb-2",children:t("Property Type")}),e.jsx("div",{className:"flex items-center px-4 gap-[10px] w-full h-[39px] bg-white border-[1.5px] border-[#EAEAEA] rounded-[100px] focus-within:border-[#065033] transition-colors",children:e.jsxs("select",{value:n.type,onChange:s=>x({...n,type:s.target.value}),className:"w-full border-0 outline-none bg-transparent text-[14px] leading-[19px] font-normal text-[#5A5A5A] appearance-none focus:outline-none focus:ring-0 focus:border-0",children:[e.jsx("option",{value:"",children:t("All Types")}),e.jsx("option",{value:"APPARTEMENT",children:t("Apartment")}),e.jsx("option",{value:"MAISON",children:t("House")}),e.jsx("option",{value:"TERRAIN",children:t("Land")}),e.jsx("option",{value:"COMMERCIAL",children:t("Commercial Space")}),e.jsx("option",{value:"BUREAU",children:t("Office")}),e.jsx("option",{value:"AUTRES",children:t("Other")})]})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-[#696969] font-inter mb-2",children:t("Minimum Price")}),e.jsx("div",{className:"flex items-center px-4 gap-[10px] w-full h-[39px] bg-white border-[1.5px] border-[#EAEAEA] rounded-[100px] focus-within:border-[#065033] transition-colors",children:e.jsx("input",{type:"number",value:n.price_min,onChange:s=>x({...n,price_min:s.target.value}),placeholder:"€ 0",className:"w-full border-0 outline-none bg-transparent text-[14px] leading-[19px] font-normal text-[#5A5A5A] placeholder-[#5A5A5A] focus:outline-none focus:ring-0 focus:border-0"})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-[#696969] font-inter mb-2",children:t("Maximum Price")}),e.jsx("div",{className:"flex items-center px-4 gap-[10px] w-full h-[39px] bg-white border-[1.5px] border-[#EAEAEA] rounded-[100px] focus-within:border-[#065033] transition-colors",children:e.jsx("input",{type:"number",value:n.price_max,onChange:s=>x({...n,price_max:s.target.value}),placeholder:"€ 999,999",className:"w-full border-0 outline-none bg-transparent text-[14px] leading-[19px] font-normal text-[#5A5A5A] placeholder-[#5A5A5A] focus:outline-none focus:ring-0 focus:border-0"})})]})]}),e.jsxs("div",{className:"flex justify-between items-center pt-4",children:[e.jsxs("button",{type:"button",onClick:j,className:"flex justify-center items-center px-[12px] py-[6px] gap-[8px] min-w-max h-[32px] bg-white border border-[#EAEAEA] rounded-full text-[#6C6C6C] hover:border-[#CEE8DE] transition-colors",children:[e.jsx(i.X,{className:"w-4 h-4"}),e.jsx("span",{className:"text-sm font-medium font-inter whitespace-nowrap",children:t("Clear Filters")})]}),e.jsxs("button",{type:"submit",className:"flex justify-center items-center px-[12px] py-[6px] gap-[8px] min-w-max h-[32px] bg-[#065033] border border-[#065033] rounded-full text-white hover:bg-[#054028] transition-colors",children:[e.jsx(i.Search,{className:"w-4 h-4"}),e.jsx("span",{className:"text-sm font-medium font-inter whitespace-nowrap",children:t("Apply Filters")})]})]})]})]}),e.jsxs("div",{className:"bg-white border border-[#EAEAEA] rounded-2xl shadow-sm",children:[e.jsx("div",{className:"p-6 border-b border-[#EAEAEA]",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("h3",{className:"text-lg font-semibold text-[#696969] font-inter",children:[t("Properties Pending Review")," (",o.total,")"]}),c&&e.jsx("button",{onClick:j,className:"text-sm text-[#065033] hover:text-[#054028] font-medium font-inter",children:t("Clear all filters")})]})}),o.data.length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"w-16 h-16 mx-auto bg-gray-100 rounded-full flex items-center justify-center mb-4",children:e.jsx(i.Clipboard,{className:"w-8 h-8 text-gray-400"})}),e.jsx("h4",{className:"text-lg font-medium text-[#696969] font-inter mb-2",children:t(c?"No Properties Match Your Filters":"No Properties Pending Review")}),e.jsx("p",{className:"text-sm text-[#6C6C6C] font-inter",children:t(c?"Try adjusting your search criteria or clear the filters.":"All property submissions have been reviewed. Great work!")}),c&&e.jsxs("button",{onClick:j,className:"mt-4 flex justify-center items-center px-[12px] py-[6px] gap-[8px] min-w-max h-[32px] bg-[#065033] border border-[#065033] rounded-full text-white hover:bg-[#054028] transition-colors mx-auto",children:[e.jsx(i.X,{className:"w-4 h-4"}),e.jsx("span",{className:"text-sm font-medium font-inter whitespace-nowrap",children:t("Clear Filters")})]})]}):e.jsx("div",{className:"divide-y divide-[#EAEAEA]",children:o.data.map(s=>e.jsx("div",{className:"p-6 hover:bg-[#F5F9FA] transition-colors",children:e.jsxs("div",{className:"flex items-start space-x-4",children:[e.jsx("div",{className:"flex-shrink-0",children:s.images.length>0?e.jsx("img",{className:"h-20 w-20 rounded-lg object-cover border border-[#EAEAEA]",src:`/storage/${s.images[0].chemin_fichier}`,alt:s.type_propriete}):e.jsx("div",{className:"h-20 w-20 rounded-lg bg-gray-100 border border-[#EAEAEA] flex items-center justify-center",children:e.jsx(i.Home,{className:"w-8 h-8 text-gray-400"})})}),e.jsx("div",{className:"flex-1 min-w-0",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("h4",{className:"text-lg font-semibold text-[#000] font-inter",children:[E(s.type_propriete)," - ",s.ville]}),e.jsx("p",{className:"text-sm text-[#6C6C6C] font-inter mt-1",children:s.adresse_complete}),e.jsxs("div",{className:"flex items-center space-x-4 mt-2 text-sm text-[#6C6C6C] font-inter",children:[e.jsx("span",{className:"font-semibold text-[#000]",children:y(s.prix)}),e.jsx("span",{children:"•"}),e.jsxs("span",{children:[s.superficie_m2," m²"]}),e.jsx("span",{children:"•"}),e.jsxs("span",{children:[s.contacts_souhaites," ",t("contacts requested")]})]}),e.jsxs("div",{className:"mt-3 space-y-1",children:[e.jsxs("p",{className:"text-sm text-[#6C6C6C] font-inter",children:[e.jsxs("span",{className:"font-medium text-[#696969]",children:[t("Owner"),":"]})," ",s.proprietaire.prenom," ",s.proprietaire.nom]}),e.jsxs("p",{className:"text-sm text-[#6C6C6C] font-inter",children:[e.jsxs("span",{className:"font-medium text-[#696969]",children:[t("Submitted"),":"]})," ",C(s.created_at)]})]})]}),e.jsx("div",{className:"flex-shrink-0 ml-4",children:e.jsxs(w,{href:route("admin.property-review",s.id),className:"flex justify-center items-center px-[12px] py-[6px] gap-[8px] min-w-max h-[32px] bg-[#065033] border border-[#065033] rounded-full transition-colors hover:bg-[#054028] focus:outline-none focus:bg-[#054028]",children:[e.jsx(i.Eye,{className:"w-4 h-4 text-white"}),e.jsx("span",{className:"text-white text-sm font-medium font-inter whitespace-nowrap",children:t("Review Property")})]})})]})})]})},s.id))}),o.last_page>1&&e.jsx("div",{className:"px-6 py-4 border-t border-[#EAEAEA]",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"text-sm text-[#6C6C6C] font-inter",children:[t("Showing")," ",o.from," ",t("to")," ",o.to," ",t("of")," ",o.total," ",t("results")]}),e.jsx("div",{className:"flex space-x-2",children:o.links.map((s,u)=>e.jsx(w,{href:s.url||"#",className:`px-3 py-2 text-sm rounded-lg font-inter transition-colors ${s.active?"bg-[#065033] text-white":s.url?"bg-white text-[#6C6C6C] border border-[#EAEAEA] hover:bg-[#F5F9FA] hover:border-[#CEE8DE]":"bg-gray-100 text-gray-400 cursor-not-allowed"}`,dangerouslySetInnerHTML:{__html:s.label}},u))})]})})]})]})})]})}export{O as default};
