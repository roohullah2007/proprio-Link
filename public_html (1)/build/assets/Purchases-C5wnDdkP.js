import{j as e,$ as S,Y as s}from"./app-iFD7Weej.js";import{A as W}from"./AuthenticatedLayout-DWhC2xWj.js";import{u as B}from"./translations-rX8tNeDX.js";import"./ApplicationLogo-BMRKG7mZ.js";import"./Dropdown-CjFkiSaH.js";import"./transition-F1nsk1y3.js";import"./LanguageSwitcher-CvGVWDg5.js";const o={Search:({className:i})=>e.jsx("svg",{className:i,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),ShoppingBag:({className:i})=>e.jsx("svg",{className:i,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 11V7a4 4 0 00-8 0v4M5 9h14l-1 12H6L5 9z"})}),DollarSign:({className:i})=>e.jsx("svg",{className:i,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"})}),Calendar:({className:i})=>e.jsx("svg",{className:i,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),Eye:({className:i})=>e.jsxs("svg",{className:i,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]}),Download:({className:i})=>e.jsx("svg",{className:i,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})};function T({purchases:i}){var c;const{__:r}=B(),a=t=>{const n=Number(t)||0;return new Intl.NumberFormat("fr-FR",{style:"currency",currency:"EUR",maximumFractionDigits:2}).format(n)},D=!i||!i.data||!Array.isArray(i.data)?0:i.data.reduce((t,n)=>{const d=Number(n==null?void 0:n.montant_paye)||0;return t+d},0),x=t=>({APPARTEMENT:r("Apartment"),MAISON:r("House"),TERRAIN:r("Land"),COMMERCIAL:r("Commercial"),BUREAU:r("Office"),AUTRES:r("Other")})[t]||t;return e.jsxs(W,{usePillNavigation:!1,header:e.jsxs("div",{className:"flex justify-between items-center px-0 gap-[9px] w-full h-[31px]",children:[e.jsx("div",{className:"flex-none order-0 flex-grow-0",children:e.jsx("h1",{className:"font-inter font-medium text-[14px] leading-[19px] flex items-center text-[#000] capitalize",children:r("My Purchases")})}),e.jsx("div",{className:"flex items-center gap-[14px] h-[31px] flex-none order-1 flex-grow-0",children:e.jsxs(s,{href:route("agent.properties"),className:"flex justify-center items-center px-[10px] py-[6px] gap-[6px] h-[31px] bg-[#2563eb] border-[1.5px] border-[#2563eb] rounded-[20px] hover:bg-[#1d4ed8] transition-colors focus:outline-none",children:[e.jsx(o.Search,{className:"w-5 h-5 text-white"}),e.jsx("span",{className:"font-inter font-medium text-[12px] leading-[16px] text-white",children:r("Search Properties")})]})})]}),children:[e.jsx(S,{title:r("My Purchases")}),e.jsx("div",{className:"py-8",children:e.jsxs("div",{className:"mx-auto max-w-[1337px] px-8",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[e.jsx("div",{className:"bg-white border border-[#EAEAEA] rounded-lg p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0 w-14 h-14 bg-[#F5F9FA] border border-[#EAEAEA] rounded-full flex items-center justify-center",children:e.jsx(o.ShoppingBag,{className:"w-7 h-7 text-[#2563eb]"})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-[#000] font-inter",children:r("Contacts Purchased")}),e.jsx("p",{className:"text-2xl font-bold text-[#000] font-inter",children:(i==null?void 0:i.total)||0})]})]})}),e.jsx("div",{className:"bg-white border border-[#EAEAEA] rounded-lg p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0 w-14 h-14 bg-[#F5F9FA] border border-[#EAEAEA] rounded-full flex items-center justify-center",children:e.jsx(o.DollarSign,{className:"w-7 h-7 text-[#2563eb]"})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-[#000] font-inter",children:r("Total Spent")}),e.jsx("p",{className:"text-2xl font-bold text-[#000] font-inter",children:a(D)})]})]})}),e.jsx("div",{className:"bg-white border border-[#EAEAEA] rounded-lg p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0 w-14 h-14 bg-[#F5F9FA] border border-[#EAEAEA] rounded-full flex items-center justify-center",children:e.jsx(o.Calendar,{className:"w-7 h-7 text-[#2563eb]"})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-[#000] font-inter",children:r("This Month")}),e.jsx("p",{className:"text-2xl font-bold text-[#000] font-inter",children:((c=i==null?void 0:i.data)==null?void 0:c.filter(t=>new Date(t.created_at).getMonth()===new Date().getMonth()).length)||0})]})]})})]}),e.jsx("div",{className:"bg-white border border-[#EAEAEA] rounded-lg",children:e.jsxs("div",{className:"p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-[#000] font-inter mb-6",children:r("Purchase History")}),i!=null&&i.data&&i.data.length>0?e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 2xl:grid-cols-5 gap-3 sm:gap-4 md:gap-6",children:i.data.map(t=>{var n,d,g,j,f,b,I,N,p,v,h,y,A,w,k,C,M,E,P,Z;return e.jsxs("div",{className:"block",children:[e.jsx("div",{className:"hidden md:block",children:e.jsxs("div",{className:"desktop-card bg-white rounded-[12px] overflow-hidden shadow-sm flex flex-col p-[12px] transition-all duration-200 hover:-translate-y-1 hover:shadow-lg",children:[e.jsxs("div",{className:"desktop-card-image-container relative overflow-hidden",children:[(n=t==null?void 0:t.property)!=null&&n.images&&t.property.images.length>0?e.jsx("img",{src:`/storage/${t.property.images[0].chemin_fichier}`,alt:"Property image",className:"desktop-card-image w-full h-[138px] object-cover rounded-[8px] transition-transform duration-300 hover:scale-110",onError:l=>{l.target.dataset.fallbackAttempted?l.target.src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTgwIiBoZWlnaHQ9IjEzOCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICAgIDxyZWN0IHdpZHRoPSIxODAiIGhlaWdodD0iMTM4IiBmaWxsPSIjZjNmNGY2Ii8+CiAgICA8cmVjdCB4PSIzNiIgeT0iMzQiIHdpZHRoPSIxMDgiIGhlaWdodD0iNzAiIGZpbGw9IiNlNWU3ZWIiLz4KICAgIDxyZWN0IHg9IjQ1IiB5PSI0MiIgd2lkdGg9IjM2IiBoZWlnaHQ9IjI4IiBmaWxsPSIjZDFkNWRiIi8+CiAgICA8cmVjdCB4PSI5OSIgeT0iNDIiIHdpZHRoPSIzNiIgaGVpZ2h0PSIyOCIgZmlsbD0iI2QxZDVkYiIvPgogICAgPHJlY3QgeD0iNDUiIHk9Ijc4IiB3aWR0aD0iOTAiIGhlaWdodD0iMjAiIGZpbGw9IiNkMWQ1ZGIiLz4KICAgIDx0ZXh0IHg9IjkwIiB5PSIxMjAiIHRleHQtYW5jaG9yPSJtaWRkbGUiIGZpbGw9IiM2YjcyODAiIGZvbnQtZmFtaWx5PSJBcmlhbCIgZm9udC1zaXplPSIxMiI+U2ltaWxhciBQcm9wZXJ0eTwvdGV4dD4KICA8L3N2Zz4K":(l.target.dataset.fallbackAttempted="true",l.target.src=`/images/${t.property.images[0].chemin_fichier}`)}}):e.jsx("img",{src:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTgwIiBoZWlnaHQ9IjEzOCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICAgIDxyZWN0IHdpZHRoPSIxODAiIGhlaWdodD0iMTM4IiBmaWxsPSIjZjNmNGY2Ii8+CiAgICA8cmVjdCB4PSIzNiIgeT0iMzQiIHdpZHRoPSIxMDgiIGhlaWdodD0iNzAiIGZpbGw9IiNlNWU3ZWIiLz4KICAgIDxyZWN0IHg9IjQ1IiB5PSI0MiIgd2lkdGg9IjM2IiBoZWlnaHQ9IjI4IiBmaWxsPSIjZDFkNWRiIi8+CiAgICA8cmVjdCB4PSI5OSIgeT0iNDIiIHdpZHRoPSIzNiIgaGVpZ2h0PSIyOCIgZmlsbD0iI2QxZDVkYiIvPgogICAgPHJlY3QgeD0iNDUiIHk9Ijc4IiB3aWR0aD0iOTAiIGhlaWdodD0iMjAiIGZpbGw9IiNkMWQ1ZGIiLz4KICAgIDx0ZXh0IHg9IjkwIiB5PSIxMjAiIHRleHQtYW5jaG9yPSJtaWRkbGUiIGZpbGw9IiM2YjcyODAiIGZvbnQtZmFtaWx5PSJBcmlhbCIgZm9udC1zaXplPSIxMiI+U2ltaWxhciBQcm9wZXJ0eTwvdGV4dD4KICA8L3N2Zz4K",alt:"Property image",className:"desktop-card-image w-full h-[138px] object-cover rounded-[8px] transition-transform duration-300 hover:scale-110"}),e.jsx("div",{className:"desktop-status-badge absolute bottom-3 left-0 bg-[#2563eb] text-white text-[14px] font-medium py-1 px-3 rounded-r",children:r("Purchased")})]}),e.jsxs("div",{className:"desktop-card-content py-4 px-0",children:[e.jsxs("div",{className:"desktop-price-building-row flex justify-between items-center mb-2",children:[e.jsx("p",{className:"desktop-price text-[18px] font-bold text-[#212121]",children:a(((d=t==null?void 0:t.property)==null?void 0:d.prix)||0)}),e.jsx("p",{className:"desktop-property-type text-[11px] font-bold text-[#6b7280] text-right",children:x((g=t==null?void 0:t.property)==null?void 0:g.type_propriete)||"N/A"})]}),e.jsxs("div",{className:"desktop-property-details flex flex-wrap gap-2 text-[12px] text-[#374151] mb-2",children:[((j=t==null?void 0:t.property)==null?void 0:j.nombre_chambres)&&e.jsxs(e.Fragment,{children:[e.jsxs("span",{className:"font-medium",children:[t.property.nombre_chambres," ",t.property.nombre_chambres===1?r("Bed"):r("Beds")]}),e.jsx("span",{children:"|"})]}),((f=t==null?void 0:t.property)==null?void 0:f.nombre_salles_bain)&&e.jsxs(e.Fragment,{children:[e.jsxs("span",{className:"font-medium",children:[t.property.nombre_salles_bain," ",t.property.nombre_salles_bain===1?r("Bath"):r("Baths")]}),e.jsx("span",{children:"|"})]}),e.jsxs("span",{className:"font-medium",children:[((b=t==null?void 0:t.property)==null?void 0:b.superficie_m2)||0," mÂ²"]})]}),e.jsx("div",{className:"desktop-address",children:e.jsxs("p",{className:"text-[11px] font-bold text-[#212121]",children:[((I=t==null?void 0:t.property)==null?void 0:I.ville)||"N/A",", ",((N=t==null?void 0:t.property)==null?void 0:N.pays)||"N/A"]})})]}),e.jsxs("div",{className:"mt-auto pt-2 space-y-2",children:[e.jsxs(s,{href:route("agent.contact-details",t.id),className:"w-full flex items-center justify-center px-3 py-2 bg-[#2563eb] hover:bg-[#1d4ed8] text-white rounded-lg font-inter font-medium text-xs transition-colors",children:[e.jsx(o.Eye,{className:"w-4 h-4 mr-2"}),r("View Contact Information")]}),t.statut_paiement==="succeeded"&&e.jsxs("a",{href:route("invoices.generate",t.id),className:"w-full flex items-center justify-center px-3 py-2 bg-white hover:bg-[#F5F9FA] text-[#6C6C6C] border border-[#EAEAEA] rounded-lg font-inter font-medium text-xs transition-colors",target:"_blank",rel:"noopener noreferrer",children:[e.jsx(o.Download,{className:"w-4 h-4 mr-2"}),r("Download Invoice")]})]})]})}),e.jsx("div",{className:"block md:hidden",children:e.jsx("div",{className:"mobile-card bg-white rounded-lg overflow-hidden shadow-sm border border-gray-200 transition-all duration-200 hover:shadow-md",children:e.jsxs("div",{className:"flex",children:[e.jsxs("div",{className:"w-32 h-24 flex-shrink-0 relative overflow-hidden",children:[(p=t==null?void 0:t.property)!=null&&p.images&&t.property.images.length>0?e.jsx("img",{src:`/storage/${t.property.images[0].chemin_fichier}`,alt:"Property image",className:"w-full h-full object-cover",onError:l=>{if(!l.target.dataset.fallbackAttempted)l.target.dataset.fallbackAttempted="true",l.target.src=`/images/${t.property.images[0].chemin_fichier}`;else{const m=document.createElement("div");m.className="w-full h-full bg-gray-200 flex items-center justify-center",m.innerHTML='<svg class="w-8 h-8 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6" /></svg>',l.target.parentNode.replaceChild(m,l.target)}}}):e.jsx("div",{className:"w-full h-full bg-gray-200 flex items-center justify-center",children:e.jsx("svg",{className:"w-8 h-8 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"})})}),e.jsx("div",{className:"absolute top-1 left-1 bg-[#2563eb] text-white text-xs font-medium py-0.5 px-2 rounded",children:r("Purchased")})]}),e.jsxs("div",{className:"flex-1 p-3",children:[e.jsxs("div",{className:"flex justify-between items-start mb-1",children:[e.jsx("p",{className:"text-lg font-bold text-[#212121]",children:a(((v=t==null?void 0:t.property)==null?void 0:v.prix)||0)}),e.jsx("p",{className:"text-xs font-semibold text-[#6b7280]",children:x((h=t==null?void 0:t.property)==null?void 0:h.type_propriete)||"N/A"})]}),e.jsxs("p",{className:"text-xs text-[#212121] font-medium mb-2",children:[((y=t==null?void 0:t.property)==null?void 0:y.ville)||"N/A",", ",((A=t==null?void 0:t.property)==null?void 0:A.pays)||"N/A"]}),e.jsxs("div",{className:"flex flex-wrap gap-1 text-xs text-[#374151] mb-2",children:[((w=t==null?void 0:t.property)==null?void 0:w.nombre_chambres)&&e.jsxs("span",{className:"font-medium",children:[t.property.nombre_chambres," ",t.property.nombre_chambres===1?r("Bed"):r("Beds")]}),((k=t==null?void 0:t.property)==null?void 0:k.nombre_chambres)&&((C=t==null?void 0:t.property)==null?void 0:C.nombre_salles_bain)&&e.jsx("span",{children:"â¢"}),((M=t==null?void 0:t.property)==null?void 0:M.nombre_salles_bain)&&e.jsxs("span",{className:"font-medium",children:[t.property.nombre_salles_bain," ",t.property.nombre_salles_bain===1?r("Bath"):r("Baths")]}),(((E=t==null?void 0:t.property)==null?void 0:E.nombre_chambres)||((P=t==null?void 0:t.property)==null?void 0:P.nombre_salles_bain))&&e.jsx("span",{children:"â¢"}),e.jsxs("span",{className:"font-medium",children:[((Z=t==null?void 0:t.property)==null?void 0:Z.superficie_m2)||0," mÂ²"]})]}),e.jsxs("div",{className:"flex gap-1",children:[e.jsxs(s,{href:route("agent.contact-details",t.id),className:"flex-1 flex items-center justify-center px-2 py-1 bg-[#2563eb] hover:bg-[#1d4ed8] text-white rounded text-xs font-medium transition-colors",children:[e.jsx(o.Eye,{className:"w-3 h-3 mr-1"}),r("Contact")]}),t.statut_paiement==="succeeded"&&e.jsx("a",{href:route("invoices.generate",t.id),className:"flex items-center justify-center px-2 py-1 bg-white hover:bg-[#F5F9FA] text-[#6C6C6C] border border-[#EAEAEA] rounded text-xs font-medium transition-colors",target:"_blank",rel:"noopener noreferrer",children:e.jsx(o.Download,{className:"w-3 h-3"})})]})]})]})})})]},t.id)})}):e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"w-20 h-20 bg-[#F5F9FA] border border-[#EAEAEA] rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(o.ShoppingBag,{className:"w-10 h-10 text-[#6C6C6C]"})}),e.jsx("h3",{className:"text-lg font-semibold text-[#000] font-inter mb-2",children:r("No Purchases Yet")}),e.jsx("p",{className:"text-[#6C6C6C] font-inter mb-6",children:r("You haven't purchased any property owner contacts yet.")}),e.jsx("div",{className:"flex justify-center",children:e.jsxs(s,{href:route("agent.properties"),className:"flex items-center justify-center px-6 py-3 bg-[#2563eb] hover:bg-[#1d4ed8] text-white rounded-lg font-inter font-medium transition-colors",children:[e.jsx(o.Search,{className:"w-5 h-5 mr-2"}),r("Search Properties")]})})]}),(i==null?void 0:i.links)&&i.links.length>3&&e.jsx("div",{className:"mt-6 flex justify-center",children:e.jsx("nav",{className:"flex items-center space-x-2",children:i.links.map((t,n)=>e.jsx(s,{href:t.url||"#",className:`flex items-center justify-center px-3 py-2 text-sm font-medium rounded-lg transition-colors ${t.active?"bg-[#2563eb] text-white":t.url?"text-[#6C6C6C] hover:bg-[#F5F9FA] border border-[#EAEAEA]":"text-[#EAEAEA] cursor-not-allowed"}`,preserveState:!0,preserveScroll:!0,dangerouslySetInnerHTML:{__html:t.label}},n))})})]})})]})})]})}export{T as default};
