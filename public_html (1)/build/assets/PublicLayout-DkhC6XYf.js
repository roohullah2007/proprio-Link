import{q as f,r as b,j as e,Y as n}from"./app-CV-uduzR.js";import{A as v}from"./ApplicationLogo-DtnQNlSQ.js";import{L as p}from"./LanguageSwitcher-CB5q9_EP.js";import{P as y,D as o}from"./Dropdown-CBZVXiBJ.js";import{u as j}from"./translations-ByLVRw2M.js";function D({children:g,title:N}){var h;const{props:i}=f(),{__:t}=j(),l=i.settings||{},a=(h=i.auth)==null?void 0:h.user,[c,m]=b.useState(!1),d=(()=>{try{let r=l.website_menu_links;return console.log("Raw settings received:",l),console.log("Raw website_menu_links:",r),typeof r=="string"&&(console.log("Menu links is string, parsing..."),r=JSON.parse(r)),Array.isArray(r)?(console.log("Final parsed menu links:",r),r):(console.log("Menu links is not an array:",r),[])}catch(r){return console.error("Error parsing menu links:",r),[]}})(),x=()=>a?a.type_utilisateur==="AGENT"?[{href:"/agent/dashboard",label:t("Dashboard"),active:route().current("agent.dashboard")},{href:"/agent/properties",label:t("Search Properties"),active:route().current("agent.properties")},{href:"/agent/purchases",label:t("My Contacts"),active:route().current("agent.purchases")}]:a.type_utilisateur==="PROPRIETAIRE"?[{href:"/dashboard",label:t("Dashboard"),active:route().current("dashboard")},{href:"/properties",label:t("My Properties"),active:route().current("properties.*")},{href:"/properties/create",label:t("Add Property"),active:route().current("properties.create")}]:a.type_utilisateur==="ADMIN"?[{href:"/admin/dashboard",label:t("Dashboard"),active:route().current("admin.dashboard")},{href:"/admin/properties/all",label:t("Properties"),active:route().current("admin.pending-properties")||route().current("admin.all-properties")||route().current("admin.property-review")},{href:"/admin/users",label:t("Users"),active:route().current("admin.users")||route().current("admin.users.show")},{href:"/admin/settings",label:t("Settings"),active:route().current("admin.settings")}]:[]:[],u=()=>{if(a)return x().map(s=>({href:s.href,label:s.label,active:s.active,external:!1}));let r=[];return d.length>0?r=d.map(s=>({href:s.url,label:s.label,active:!1,external:s.external})):r=[{href:"https://yourdomain.com",label:"Home",active:!1,external:!0},{href:"https://yourdomain.com/about",label:"About",active:!1,external:!0},{href:"/properties/search",label:"Properties",active:!0,external:!1},{href:"https://yourdomain.com/contact",label:"Contact",active:!1,external:!0}],console.log("Pill navigation items for guests:",r),r};return e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx("nav",{className:"fixed top-0 left-0 right-0 z-50 bg-white border-b border-gray-200",children:e.jsxs("div",{className:"w-full px-8",children:[e.jsxs("div",{className:"max-w-[1400px] mx-auto flex justify-between items-center h-16",children:[e.jsxs("div",{className:"flex items-center space-x-8",children:[e.jsx(n,{href:l.website_url||"/",className:"flex-shrink-0",children:e.jsx(v,{className:"h-8 w-auto"})}),e.jsx(y,{items:u(),className:"hidden md:flex"})]}),e.jsxs("div",{className:"flex items-center space-x-4",children:[a?e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx(p,{currentLocale:i.locale||"fr"}),e.jsxs(o,{children:[e.jsx(o.Trigger,{children:e.jsx("span",{className:"inline-flex rounded-md",children:e.jsxs("button",{type:"button",className:"inline-flex items-center px-3 py-2 border border-transparent text-sm leading-4 font-medium rounded-md text-gray-500 bg-white hover:text-gray-700 focus:outline-none transition ease-in-out duration-150",children:[a.prenom," ",a.nom,e.jsx("svg",{className:"ms-2 -me-0.5 h-4 w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z",clipRule:"evenodd"})})]})})}),e.jsxs(o.Content,{children:[e.jsx(o.Link,{href:route("profile.edit"),children:t("Profile")}),e.jsx(o.Link,{href:route("logout"),method:"post",as:"button",children:t("Log Out")})]})]})]}):e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx(p,{currentLocale:i.locale||"fr"}),e.jsx(n,{href:route("login"),className:"text-sm font-medium text-gray-700 hover:text-[#2563EB] transition-colors duration-200",children:t("Log in")}),e.jsx(n,{href:route("register"),className:"inline-flex items-center px-4 py-2 bg-[#2563EB] border border-transparent rounded-md font-semibold text-xs text-white uppercase tracking-widest hover:bg-[#1D4ED8] focus:bg-[#1D4ED8] active:bg-[#1E40AF] focus:outline-none focus:ring-2 focus:ring-[#2563EB] focus:ring-offset-2 transition ease-in-out duration-150",children:t("Register")})]}),e.jsx("div",{className:"md:hidden",children:e.jsx("button",{onClick:()=>m(r=>!r),className:"inline-flex items-center justify-center p-2 rounded-md text-gray-400 hover:text-gray-500 hover:bg-gray-100 focus:outline-none focus:bg-gray-100 focus:text-gray-500 transition duration-150 ease-in-out",children:e.jsxs("svg",{className:"h-6 w-6",stroke:"currentColor",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("path",{className:c?"hidden":"inline-flex",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 6h16M4 12h16M4 18h16"}),e.jsx("path",{className:c?"inline-flex":"hidden",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})]})})})]})]}),e.jsx("div",{className:(c?"block":"hidden")+" md:hidden",children:e.jsxs("div",{className:"pt-2 pb-3 space-y-1 bg-white border-t border-gray-200",children:[u().map((r,s)=>r.external?e.jsx("a",{href:r.href,target:"_blank",rel:"noopener noreferrer",className:"block pl-3 pr-4 py-2 border-l-4 text-base font-medium border-transparent text-gray-600 hover:text-gray-800 hover:bg-gray-50 hover:border-gray-300 transition duration-150 ease-in-out",children:r.label},s):e.jsx(n,{href:r.href,className:`block pl-3 pr-4 py-2 border-l-4 text-base font-medium transition duration-150 ease-in-out ${r.active?"border-[#2563EB] text-[#2563EB] bg-[#F0F4FF]":"border-transparent text-gray-600 hover:text-gray-800 hover:bg-gray-50 hover:border-gray-300"}`,children:r.label},s)),!a&&e.jsx(e.Fragment,{children:e.jsxs("div",{className:"border-t border-gray-200 pt-2 mt-2",children:[e.jsx(n,{href:route("login"),className:"block pl-3 pr-4 py-2 border-l-4 border-transparent text-base font-medium text-gray-600 hover:text-gray-800 hover:bg-gray-50 hover:border-gray-300 transition duration-150 ease-in-out",children:t("Log in")}),e.jsx(n,{href:route("register"),className:"block pl-3 pr-4 py-2 border-l-4 border-transparent text-base font-medium text-gray-600 hover:text-gray-800 hover:bg-gray-50 hover:border-gray-300 transition duration-150 ease-in-out",children:t("Register")})]})})]})})]})}),e.jsx("div",{className:"pt-16",children:g})]})}export{D as P};
